import a from'./Review.js';import b from'./ModelFileManager.js';import c from'./ShapeAction.js';import d from'./MeshBlock.js';let Data=function(e,f){let g=this,h=0x0,i=0x0,j=0x0;const k=Number['MAX_SAFE_INTEGER']-0x989680;let l=0x0;const m=0x989680;let n=undefined,o=undefined,p=undefined,q=undefined,r=undefined,s=undefined,t=undefined,u=undefined;this['Parent']=function(){return e;},this['Accumulation']=f['Enum']['ACCUMULATION_UNIT']['MILLIMETERS'],this['FileType']=f['Enum']['FILE_TYPE']['NONE'],this['SetFileType']=M=>{g['FileType']=M;},this['GetFileType']=()=>{return g['FileType'];},this['GetUnitValue']=function(M){if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MICROMETERS'])M*=0x3e8;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['CENTIMETERS'])M/=0xa;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['DECIMETERS'])M/=0x64;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['METERS'])M/=0x3e8;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['KILOMETERS'])M/=0xf4240;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['INCHES'])M/=25.4;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['FEET'])M/=304.8;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['YARDS'])M/=914.4;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILES'])M/=0x188e7c;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILS'])M/=0x6338;}}}}}}}}}return M;},this['GetCustomUnitValue']=function(M){return M;},this['GetWalkthroughUnitValue']=function(M){if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MICROMETERS'])M*=0x3e8;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['CENTIMETERS'])M/=0xa;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['DECIMETERS'])M/=0x64;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['METERS'])M/=0x3e8;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['KILOMETERS'])M/=0xf4240;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['INCHES'])M/=25.4;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['FEET'])M/=304.8;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['YARDS'])M/=914.4;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILES'])M/=0x188e7c;else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILS'])M/=0x6338;}}}}}}}}}return M;},this['GetUnitString']=function(){let M='';if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILLIMETERS'])M='mm';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MICROMETERS'])M='Î¼m';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['CENTIMETERS'])M='cm';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['DECIMETERS'])M='dm';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['METERS'])M='m';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['KILOMETERS'])M='km';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['INCHES'])M='in.';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['FEET'])M='ft';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['YARDS'])M='yd';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILES'])M='mi';else{if(g['Accumulation']===f['Enum']['ACCUMULATION_UNIT']['MILS'])M='mil';}}}}}}}}}}return M;},this['GetColorString']=function(M){let N='rgba('+M['r']+','+M['g']+','+M['b']+','+M['glColor']()['a']+')';return N;},this['ObjectBodyInfoItem']=function(){let M={'partId':-0x1,'bodyId':-0x1,'origin_id':-0x1,'color':new f['Color'](),'material':-0x1,'m_vnIdx':0x0,'m_triIdx':0x0,'m_uvIdx':0x0,'m_nVtx':0x0,'m_nTris':0x0,'m_nUV':0x0,'BBox':new f['BBox'](),'colorIdx':null,'object':null};return M;},this['Object3D']=function(){if(e['UV_DEBUG']){let N={'uuid':g['UUIDv4'](),'index':-0x1,'link':'','id_file':'','attribs':{'a_index':{'buffer':null,'array':[]},'a_uv':{'buffer':null,'array':[]},'a_color':{'buffer':null,'array':[]},'a_normal':{'buffer':null,'array':[]},'a_position':{'buffer':null,'array':[]},'a_tInd':{'buffer':null,'array':[]},'a_matrixIndex':{'buffer':null,'array':[]},'sub':{'a_wireframe':{'buffer':null},'biped':{'a_biped':{'buffer':null,'array':[]},'a_weight':{'buffer':null,'array':[]}}}},'mapId':null,'tInd':undefined,'sInd':undefined,'opaque':undefined,'numElements':0x0,'tag':null,'flag':{'updateProcess':!![],'renderEnable':!![],'cache':!![],'lod':0x0,'sequence':0x0}};return N;}let M={'uuid':g['UUIDv4'](),'index':-0x1,'link':'','id_file':'','attribs':{'a_index':{'buffer':null,'array':[]},'a_color':{'buffer':null,'array':[]},'a_normal':{'buffer':null,'array':[]},'a_position':{'buffer':null,'array':[]},'a_tInd':{'buffer':null,'array':[]},'a_matrixIndex':{'buffer':null,'array':[]},'sub':{'a_wireframe':{'buffer':null},'biped':{'a_biped':{'buffer':null,'array':[]},'a_weight':{'buffer':null,'array':[]}}}},'numElements':0x0,'tag':null,'flag':{'updateProcess':!![],'renderEnable':!![],'cache':!![],'lod':0x0,'sequence':0x0}};return M;},this['CustomObjectData']=function(){let M={'uuid':g['UUIDv4'](),'name':'','visible':!![],'selection':![],'enableSelection':!![],'position':new f['Vector3'](),'direction':new f['Vector3'](0x1,0x0,0x0),'up':new f['Vector3'](0x0,0x0,0x1),'structure':[],'object':[],'animation':[],'pipeLine':[],'currentAnimationNum':-0x1,'itemType':undefined,'tag':undefined};return M;},this['CustomObject3D']=function(){let M={'uuid':g['UUIDv4'](),'index':-0x1,'link':'','id_file':'','attribs':{'a_index':{'buffer':null,'array':[]},'a_color':{'buffer':null,'array':[]},'a_normal':{'buffer':null,'array':[]},'a_position':{'buffer':null,'array':[]},'a_uv':{'buffer':null,'array':[]},'a_matrixIndex':{'buffer':null,'array':[]},'biped':[]},'numElements':0x0,'tag':null,'flag':{'updateProcess':!![],'renderEnable':!![],'cache':!![],'lod':0x0,'sequence':0x0}};return M;},this['CustomObjectAnimation']=function(){let M={'layer':[],'playAnimation':-0x1,'lastAnimation':-0x1,'animationSecond':0x0,'lastAnimationSecond':0x0};return M;},this['CustomObjectAnimationLayer']=function(){let M={'ID':e['Data']['UUIDv4'](),'data':[],'length':0x0,'step':0x0};return M;},this['NodeItem']=function(){let M={'index':-0x1,'origin_id':-0x1,'itemType':0x0,'pIndex':-0x1,'origin_pid':-0x1,'name':null,'sub':[]};return M;},this['ActionNodeItem']=function(){let M={'visible':!![],'selection':![]};return M;},this['TransInfoItem']=function(){let M={'translate':new f['Vector3'](),'rotate':new f['Vector3']()};return M;},this['ActionItem']=function(){let M={'visible':!![],'selection':![],'transform':new f['Matrix4'](),'transInfo':undefined,'instance':new f['Matrix4'](),'material':-0x1,'color':undefined,'customColor':![],'userDefaultColor':undefined,'transformIdx':0x0,'multiViewIdx':0x0,'useEffectMode':!![],'useSelection':!![],'useCustomEdge':![],'groupIdx':-0x1,'disableViewDistaceBBox':![],'drawViewDistanceBBox':![]};return M;},this['ShapeActionBufferItem']=function(){let M={'listAction':[],'mapAction':new Map()};return M;},this['ReviewActionItem']=function(){let M={'visible':!![],'text':{'transform':new f['Matrix4'](),'offset':new f['Vector3']()},'drawitem':{'transform':new f['Matrix4'](),'offset':new f['Vector3']()},'style':{'font':{'enable':![],'color':new f['Color']()},'border':{'enable':![],'color':new f['Color']()},'background':{'enable':![],'color':new f['Color']()},'arrow':{'enable':![],'color':new f['Color']()},'line':{'enable':![],'color':new f['Color']()},'point':{'enable':![],'color':new f['Color']()},'triangle':{'enable':![],'color':new f['Color']()}}};return M;},this['PathInfo']=function(){let M={'start':undefined,'end':undefined,'drawType':f['Enum']['LINE_TYPES']['SOLID']};return M;},this['ReviewItem']=function(){let M={'origin_id':undefined,'id':g['UUIDv4'](),'itemType':f['Enum']['REVIEW_TYPES']['NONE'],'visible':!![],'selection':![],'header':{'icon':{'image':undefined,'size':0x20,'offset':0x2,'rect':{'x':undefined,'y':undefined,'width':undefined,'height':undefined},'onClick':undefined},'text':{'value':[]},'style':{'font':{'face':'Arial','size':0xc,'color':new f['Color'](),'bold':![]},'background':{'enable':!![],'color':new f['Color']()}},'height':0x28},'text':{'value':[],'position':undefined,'rotate':undefined},'drawitem':{'position':[],'custom':undefined,'axis':![]},'icon':{'image':undefined,'size':0x20,'offset':0x2,'align':f['Enum']['ALIGN']['MIDDLE_LEFT'],'rect':{'x':undefined,'y':undefined,'width':undefined,'height':undefined},'onClick':undefined},'style':{'font':{'face':'Arial','size':0xc,'color':new f['Color']()},'border':{'enable':!![],'color':new f['Color'](),'thickness':0x1,'type':0x0,'round':0x5,'offset':0x5},'background':{'enable':!![],'color':new f['Color']()},'arrow':{'color':new f['Color'](),'size':0x8},'line':{'color':new f['Color'](),'thickness':0x1,'dash':[]},'point':{'enable':!![],'color':new f['Color'](),'size':0x2},'triangle':{'color':new f['Color']()}},'rect':[],'action':undefined,'onClick':undefined,'tag':undefined};return M;},this['ClashItem']=function(){let M={'id':g['UUIDv4'](),'itemType':f['Enum']['DRAW_TYPES']['NONE'],'visible':!![],'text':{'value':[],'position':undefined,'rotate':undefined},'drawitem':{'position':[],'size':0xa,'color':new f['Color'](0xff,0xff,0x0,0x0)},'style':{'font':{'face':'Arial','size':0xc,'color':new f['Color']()}},'tag':undefined};return M;},this['ClippingEvent']=function(M,N){let O={'eventType':M,'sectionInfo':N};return O;},this['ClipItem']=function(){let M={'visible':!![],'enable':!![],'id':g['UUIDv4'](),'itemType':f['Enum']['CLIPPING_MODES']['X'],'clip':0x1,'planes':[]};return M;},this['ClipPlane']=function(){let M={'vertex':[],'style':{'color':new f['Color'](0xff,0xff,0xff,0x1),'lineColor':new f['Color'](0xff,0xff,0xff,0xff),'lineTickness':0.5},'visible':{'plane':!![],'line':!![]},'normal':new f['Vector3'](),'center':new f['Vector3'](),'handle':undefined};if(e['Configuration']['Section']!==undefined){if(e['Configuration']['Section']['Style']['Color'])M['style']['color']=e['Configuration']['Section']['Style']['Color'];if(e['Configuration']['Section']['Style']['LineColor'])M['style']['lineColor']=e['Configuration']['Section']['Style']['LineColor'];if(e['Configuration']['Section']['Style']['LineTickness'])M['style']['lineTickness']=e['Configuration']['Section']['Style']['LineTickness'];}return M;},this['HandlerItem']=function(){let M={'enable':!![],'visible':!![],'center':new f['Vector3'](),'transform':new f['Matrix4'](),'id':g['UUIDv4'](),'itemType':f['Enum']['HANDLER_TYPE']['NONE'],'state':f['Enum']['HANDLE_MOUSE_STATE']['NONE'],'axis':{'x':{'enable':![],'visible':![],'normal':new f['Vector3'](0x1,0x0,0x0),'select':![]},'y':{'enable':![],'visible':![],'normal':new f['Vector3'](0x0,0x1,0x0),'select':![]},'z':{'enable':![],'visible':![],'normal':new f['Vector3'](0x0,0x0,0x1),'select':![]}},'panel':{'xy':{'enable':![],'visible':![],'select':![]},'yz':{'enable':![],'visible':![],'select':![]},'zx':{'enable':![],'visible':![],'select':![]}},'rotate':{'x':{'enable':![],'visible':![],'select':![]},'y':{'enable':![],'visible':![],'select':![]},'z':{'enable':![],'visible':![],'select':![]}},'sphere':{'enable':![],'visible':!![],'select':![]},'style':{'length':0x64,'radius':0x4},'object':undefined};return M;},this['FileData']=function(){let M={'ID':g['UUIDv4'](),'Key':'','KeySubType':0x0,'onload':undefined,'Url':'','Downloaded':![],'Current':![],'CacheData':![],'DataType':0x0,'Status':0x0,'Tag':null,'Header':undefined,'headerVersion':0x0};return M;},this['FrameBufferDataItem']=function(){let M={'itemType':f['Enum']['FB_RENDER_TYPES']['MAIN'],'framebufferID':null,'targetBuffer':null,'targetTexture':[],'targetDepth':null,'targetDepthTexture':null,'width':0x0,'height':0x0,'multiplier':0x1,'msaa':![],'sizeLock':![],'texStorageType':[]};return M;},this['TextureDataItem']=function(){let M={'texture':null,'width':0x0,'height':0x0,'itemType':f['Enum']['TEXTURE_TYPES']['NONE'],'uvChanel':0x0,'tiling':new f['Vector2'](0x1,0x1),'offset':new f['Vector2'](0x0,0x0),'src':undefined,'name':'','URL':'','downloading':![]};return M;},this['EventItem']=function(){let M={'type':undefined,'event':undefined,'info':undefined};return M;},this['OnEvent']=function(M,N){let O=g['EventItem']();O['type']=M,O['event']=e['Control']['CurrentEvent'],O['info']=N,e['EventHandler']['dispatchEvent'](f['Enum']['EVENT_TYPES']['Object']['Selected'],O);},this['MaterialGLItem']=function(M){M===undefined&&(M=f['Enum']['SHADER_TYPES']['NONE']);let N={'key':'','id':0x0,'name':'','shaderType':M,'color':new f['Color'](0xff,0xff,0xff,0xff),'ambient':undefined,'specular':undefined,'emissive':undefined,'shiness':0.5,'reflectivity':1.52,'transparencyFactor':0x1,'textureData':[],'tag':undefined,'isAlpha':![]};return N['tag']=e['Material']['GetDefaultUniform'](N['shaderType']),N;},this['LightItem']=function(){let M={'LightKind':f['Enum']['LightKind']['Directional'],'Position':new f['Vector3'](),'Color':new f['Color'](0xff,0xff,0xff,0xff),'Power':0x1};return M;},this['CameraDataItem']=function(){let M={'origin_id':undefined,'id':g['UUIDv4'](),'perspectiveView':![],'matrix_view':new f['Matrix4'](),'matrix_camera':new f['Matrix4'](),'position':new f['Vector3'](),'up':new f['Vector3'](),'target':new f['Vector3'](),'zoom':0x1,'distance':0x1,'title':'','pivot':new f['Vector3'](),'cameraMin':new f['Vector3'](),'cameraMax':new f['Vector3'](),'thumbnail':''};return M;},this['TriangleItem']=function(){let M={'vertex':{'v1':new f['Vector3'](),'v2':new f['Vector3'](),'v3':new f['Vector3']()},'normal':{'v1':new f['Vector3'](),'v2':new f['Vector3'](),'v3':new f['Vector3']()},'index':[-0x1,-0x1,-0x1],'BBox':new f['BBox']()};return M;},this['CircleItem']=function(){let M={'center':new f['Vector3'](),'normal':new f['Vector3'](),'radius':0x0};return M;},this['PickDataItem']=function(){let M={'pick':![],'position':new f['Vector3'](),'normal':new f['Vector3'](),'surface':![],'triangle':g['TriangleItem'](),'body':undefined,'preselectKind':f['Enum']['PRESELECT_PICK_KIND']['NONE'],'preselect':undefined};return M;},this['PreselectEdgeItem']=function(){let M={'id':-0x1,'kind':0x0,'vData':[],'fValue':0x0};return M;},this['PreselectEdgeColorTableItem']=function(){let M={'id':0x0,'index':-0x1,'pickKind':f['Enum']['PRESELECT_PICK_KIND']['NONE']};return M;},this['ImageDataItem']=function(){let M={'image':undefined,'size':new f['Vector2'](),'align':0x0,'offset':{'x':0x0,'y':0x0}};return M;},this['HeaderItem_VIZWide3D']=function(){let M={'version':null,'datatype':null,'structure_cnt':null,'mesh_cnt':null,'property_cnt':null,'line_cnt':0x0,'pmi_cnt':0x0,'unit':null,'GUID':null,'material_cnt':null,'tag':{'file_id':undefined,'url':undefined,'onload':undefined},'compressed':![],'uv':![],'map_status':new Map(),'onCompletedEvent':![]};return M;},this['FileInfoItem']=function(){let M={'IsFileHeader':![],'Header':undefined,'id_file':undefined,'mapFileDataInfoItem':new Map(),'StructureCompleted':![],'Structure':[],'MeshCompleted':![],'Mesh':[],'PropertyCompleted':![],'Property':[],'MaterialCompleted':![],'Material':[],'LineCompleted':![],'Line':[],'listLine':[],'PMICompleted':![],'PMI':[],'listPMI':[],'listNodeID':[],'listIndexByID':[],'LockCahceData':![],'UseViewDistance':![],'ViewDistance':0x0};return M;},this['FileDataInfoItem']=function(){let M={'Url':'','tag':undefined,'fileInfoType':0x0,'Download':![]};return M;},this['ModelFileUrlInfo']=function(){let M={'Key':'','Url':''};return M;},this['AreaDataItem']=function(M){let N={'id_file':M,'bbox':new f['BBox'](),'lockCache':![],'lod':0x0,'lod_sequence':0x0,'cache':![],'file':'','tri_num':0x0,'area':0x0,'area_num':0x0,'index_start':0x0,'index_end':0x0,'objects':[]};return N;},this['TreeBinaryInfoItem']=function(){let M={'key':'','idx_start':0x0,'idx_end':0x0,'listNodeID':[],'listIndexByID':[],'info':undefined,'structure':undefined,'name':undefined,'size':0x0};return M;};function v(){let M={'nodeId':null,'arrProperties':[],'arrUserProperties':[]};return M;}this['PropertyValueItem']=function(M,N){if(M===undefined)M='';if(N===undefined)N='';let O={'key':M,'value':N};return O;},this['Review']=new a(e,f),this['ModelFileManager']=new b(e,f),this['ShapeAction']=new c(e,f),this['MeshBlock']=new d(e,f),this['IDColor']=new f['Color'](0x0,0x0,0x0,0x1),this['Objects']=[],this['ObjectsUpdateLength']=0x0,this['ObjectsBBox']=undefined,this['TotalTriNum']=0x0,this['Reviews']=[],this['Clashes']=[],this['Roots']=[],this['TreeMap']=new Map(),this['BodyMap']=new Map(),this['IDMap']=new Map();let w=new Map();this['GetAccInfo']=function(){return w;},this['SetStartID']=function(M,N){if(g['IDMap']['get'](M)!==undefined)return;i=h,g['IDMap']['set'](M,i),h+=N+0x1;},this['GetStartID']=function(M){if(e['useUniqueID'])return 0x0;let N=g['IDMap']['get'](M);if(N===undefined){g['IDMap']['set'](M,k+l);const O=k+l;return l-=m,O;}else return N;},this['GetOpenFiles']=function(){return Array['from'](g['IDMap']['keys']());},this['ApplyStartID']=function(){i=h;},this['ApplyCurrentStartID']=function(){i=h,h+=j,j=0x0;},this['SetCurrentStartID']=function(M){j=M;},this['Load']='Data.Loaded',this['Parse']='Data.Parse',this['ParseType']=0x1;let x=0x0;this['GetLicenseResult']=function(){return x;};let y=![];this['SetRenererDisconnectedClear']=function(M){y=M;},this['IsDisconnectedClear']=function(){return y;};let z={'NONE':0x0,'NO_DATA':0x1,'UNDEFINED_MESSAGEID':0x2,'DISABLILITY_SERVICE':0x3,'INVALID_PROCESS':0x4,'AUTHENTICATION_SUCCESS':0x5,'MISSING_OPERATION':0x6,'UNAUTHORIZED_PRODUCT':0x7,'EXPIRATION':0x8,'THROW_EXCEPTION':0x9,'RECONNECT_SESSION_SERVER':0xa,'AVAILABLE_QUANTITY_EXCEEDS':0xb,'DUPLICATE_USER':0xc,'LICENSE_SERVER_FULL':0xd,'LICENSE_SERVER_DOWN':0xe,'DISCONNECTED_LICENSE_SERVER':0xf,'INVALID_SESSION_ID':0x10,'AVAILABLE_CONNECTION':0x11,'KEEPED_ALIVE':0x12,'SERVER_MODE':0x13,'LIST_SESSION_SERVER':0x14,'COUNT_CONNECTED_USER':0x15,'COUNT_CONNECTED_USER_BY_PRODUCT':0x16,'INVALID_SESSION_SERVER':0x17,'NOT_EXIST_SESSION_SERVER':0x18,'NOT_EXIST_AVAILABLE_SESSIONSERVER':0x19,'REPORT_STATUS_RESULT':0x1a,'WRONG_VERSION_INFO':0x1b,'NOT_FOUND_VERSION_INFO':0x1c,'INVALID_VERSION':0x1d,'LICENSE_CODE':0x1e,'PROCESS_SUCCESS':0x64},A=function(M){let N='';switch(M){case z['NONE']:{N='License\x20is\x20being\x20verified.';}break;case z['NO_DATA']:{N='No\x20data\x20passed.';}break;case z['UNDEFINED_MESSAGEID']:{N='Undefined\x20request\x20message\x20ID.';}break;case z['DISABLILITY_SERVICE']:{N='Service\x20failure.';}break;case z['INVALID_PROCESS']:{N='Invalid\x20process.';}break;case z['AUTHENTICATION_SUCCESS']:{N='';}break;case z['MISSING_OPERATION']:{N='Missing\x20operation.';}break;case z['UNAUTHORIZED_PRODUCT']:{N='Unauthorized\x20product.';}break;case z['EXPIRATION']:{N='The\x20period\x20of\x20use\x20has\x20expired.';}break;case z['THROW_EXCEPTION']:{N='An\x20unknown\x20error\x20was\x20returned.';}break;case z['RECONNECT_SESSION_SERVER']:{N='';}break;case z['AVAILABLE_QUANTITY_EXCEEDS']:{N='Available\x20quantity\x20exceeds.';}break;case z['DUPLICATE_USER']:{N='This\x20is\x20a\x20duplicate\x20user.';}break;case z['LICENSE_SERVER_FULL']:{N='License\x20processing\x20capacity\x20exceeded.';}break;case z['LICENSE_SERVER_DOWN']:{N='Could\x20not\x20connect\x20to\x20server.';}break;case z['DISCONNECTED_LICENSE_SERVER']:{N='Disconnected\x20from\x20server.';}break;case z['INVALID_SESSION_ID']:{N='Invalid\x20session\x20ID.';}break;case z['AVAILABLE_CONNECTION']:{N='';}break;case z['KEEPED_ALIVE']:{N='';}break;case z['SERVER_MODE']:{N='';}break;case z['LIST_SESSION_SERVER']:{N='';}break;case z['COUNT_CONNECTED_USER']:{N='';}break;case z['COUNT_CONNECTED_USER_BY_PRODUCT']:{N='';}break;case z['INVALID_SESSION_SERVER']:{N='';}break;case z['NOT_EXIST_SESSION_SERVER']:{N='';}break;case z['NOT_EXIST_AVAILABLE_SESSIONSERVER']:{N='';}break;case z['REPORT_STATUS_RESULT']:{N='';}break;case z['WRONG_VERSION_INFO']:{N='The\x20application\x27s\x20version\x20information\x20is\x20incorrect.';}break;case z['NOT_FOUND_VERSION_INFO']:{N='No\x20licensed\x20product\x20version.';}break;case z['INVALID_VERSION']:{N='The\x20requested\x20product\x20version\x20is\x20not\x20available.';}break;case z['LICENSE_CODE']:{N='';}break;case z['PROCESS_SUCCESS']:{N='';}break;default:break;}return'[\x20#'+M+'\x20]\x20'+N;};this['SessionID']='',this['AliveTimer']=null,this['AliveTime']=0x4*0x3c*0x3e8;let B=(M,N)=>{if(e['useJquery']){let O=$['ajax']({'type':'GET','url':M,'async':![]})['responseText'];return O;}else{let P=undefined,Q=new XMLHttpRequest();N=N===undefined?![]:N,Q['open']('GET',M,N);if(N){Q['onreadystatechange']=function(){if(Q['readyState']===Q['DONE']){if(Q['status']===0xc8||Q['status']===0xc9){}}};try{Q['send']();}catch(R){return P;}}else{try{Q['send']();}catch(S){return P;}return Q['status']==0xc8?P=Q['responseText']:console['error']('XMLHttpRequest\x20Failed'),e['UseEncode']()&&(P=g['DecodeCCall'](P,0x0)),P;}0x0&&fetch(M,{'method':'GET','mode':'cors','cache':'default','credentials':'same-origin'})['then'](T=>{if(!T['ok'])throw new Error('HTTP\x20error,\x20status\x20=\x20'+T['status']);return T['text']();})['then'](T=>{if(callback!==undefined)callback(T);})['catch'](()=>{callback('');});}};this['Check']=function(M){let N=e['DeployType']();if(N){let O=new Date(0x197bc33c980),P=new Date();O['getTime']()-P['getTime']()>0x0?(g['ParseType']=0x0,E['dispatchEvent'](this['Load'])):(g['ParseType']=0x1,E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Parse']));}else{M=C(0x0,M);let Q={'parse':function(T){let U=B(T);return U;}},R=Q['parse'](M);g['ChangedParseType']=!![];if(R){let T=undefined;e['UseEncode']()?T=R['split']('â'):T=R['split']('@'),T[0x0]['localeCompare']('5')===0x0?(g['ParseType']=0x0,g['SessionID']=T[0x1],x=z['AUTHENTICATION_SUCCESS'],e['UpdateKeyCode']({'SessionID':g['SessionID']}),g['AliveTimer']=setInterval(function(){g['Alive']();},g['AliveTime']),E['dispatchEvent'](this['Load'])):(g['ParseType']=0x1,x=T[0x0]*0x1,e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Parse']));}else g['ParseType']=0x1,x=z['LICENSE_SERVER_DOWN'],e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Parse']);let S=U=>{if(U){let V=U['split']('@');V[0x0]['localeCompare']('5')===0x0?(g['ParseType']=0x0,g['SessionID']=V[0x1],x=z['AUTHENTICATION_SUCCESS'],g['AliveTimer']=setInterval(function(){g['Alive']();},g['AliveTime']),E['dispatchEvent'](this['Load'])):(g['ParseType']=0x1,x=V[0x0]*0x1,e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Parse']));}else g['ParseType']=0x1,x=z['LICENSE_SERVER_DOWN'],e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Parse']);};}};let C=function(M,N){let O='';if(e['Configuration']['AUTHORITY_PARAMS']['RoutingFilters']!==undefined){if(e['Configuration']['AUTHORITY_PARAMS']['RoutingFilters']['length']!==0x0){let P=window['location']['href'],Q=function(){for(let R=0x0;R<e['Configuration']['AUTHORITY_PARAMS']['RoutingFilters']['length'];R++){let S=e['Configuration']['AUTHORITY_PARAMS']['RoutingFilters'][R],T=function(V){return P['includes'](V);},U=S['Hosts']['filter'](T);if(U['length']!==0x0&&S['Data']!==undefined){O=S['Data']+e['GetKeyCode'](M);break;}}};Q();}else{if(N!==undefined)O=N;else O=e['Configuration']['AUTHORITY_PARAMS']['Data']+e['GetKeyCode'](M);}}return O;};this['Alive']=function(){let M={'parse':function(P){return B(P);}},N=C(0x1),O=M['parse'](N);},this['Disconnect']=function(){let M=e['DeployType']();if(!M){let N={'parse':function(P){return B(P,!![]);}},O=C(0x2);N['parse'](O),g['ParseType']=0x1,e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Parse']),clearInterval(g['AliveTimer']),g['AliveTimer']=null,g['SessionID']='',x=z['DISCONNECTED_LICENSE_SERVER'];}},this['IsConnected']=function(){let M=![];return g['SessionID']['localeCompare']('')===0x0||g['AliveTimer']===null||g['ParseType']===0x1?M=![]:M=!![],M;},this['GetCookie']=function(M){let N,O,P=document['cookie']['split'](';');for(let Q=0x0;Q<P['length'];Q++){N=P[Q]['substr'](0x0,P[Q]['indexOf']('=')),O=P[Q]['substr'](P[Q]['indexOf']('=')+0x1),N=N['replace'](/^\s+|\s+$/g,'');if(N===M)return unescape(O);}},this['SetCookie']=function(M,N,O){let P=new Date();P['setDate'](P['getDate']()+O);let Q=escape(N)+(O===null?'':';\x20expires='+P['toUTCString']());document['cookie']=M+'='+Q;},this['GetSessionUUID']=()=>{const M='__uuid';let N=g['GetCookie'](M);return!N&&(N=e['Util']['NewGUID'](),g['SetCookie'](M,N,0x1)),N;},this['LoadCookie']=function(){return;let M=g['GetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['ENABLE']);if(M===undefined)return;if(M['localeCompare']('')!==0x0&&M['localeCompare']('true')===0x0)e['Configuration']['Render']['Progressive']['Enable']=!![];else{if(M['localeCompare']('')!==0x0&&M['localeCompare']('false')===0x0)e['Configuration']['Render']['Progressive']['Enable']=![];}M=g['GetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['LIMITCOUNT']);if(M['localeCompare']('')!==0x0)e['Configuration']['Render']['Progressive']['LimitCount']=M*0x1;},this['SaveCookie']=function(){let M=0x1;g['SetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['ENABLE'],e['Configuration']['Render']['Progressive']['Enable'],M),g['SetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['PROGRESSIVE']['LIMITCOUNT'],e['Configuration']['Render']['Progressive']['LimitCount'],M),g['SetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['CACHE']['ENABLE'],e['Configuration']['Render']['Cache']['Enable'],M),g['SetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['CACHE']['LIMITCOUNT'],e['Configuration']['Render']['Cache']['LimitCount'],M),g['SetCookie'](f['Enum']['CONFIG_KEY']['RENDER']['PRIORITY'],e['Configuration']['Render']['Priority'],M);};function D(M,N,O){let P;return P=M['measureText'](N),P['height']=O['size']*1.5,P['ascent']=O['size']+O['size']*0.1,P;}this['DataProcessCheck']=function(M){if(g['ChangedParseType']===undefined)return;if(e['Data']['ParseType']===0x1){let N={'face':'Arial','size':0x18,'color':new f['Color'](0xff,0xff,0xff,0xff)},O=new f['Color'](0x64,0x64,0x64,0xc8),P=new f['Color'](0x36,0xaf,0xb8,0xff),Q=new f['Color'](0xc,0x33,0x49,0xb2),R='License\x20Expired!';R='License\x20error!';let S=A(x);N['size']=0xe,M['font']=N['size']+'pt\x20'+N['face'];let T=D(M,S,N);N['size']=0x18,M['font']=N['size']+'pt\x20'+N['face'];let U=D(M,R,N),V=0x78;V+=Math['max'](U['width'],T['width']),M['fillStyle']=e['Data']['GetColorString'](O),e['Renderer']['Util']['DrawRect'](M,0x0,0x0,M['canvas']['width'],M['canvas']['height'],!![],![]);let W={'x':e['Camera']['clientWidth']/0x2-V/0x2,'y':e['Camera']['clientHeight']/0x2-0x4b,'width':V,'height':0x96,'round':0xa};M['fillStyle']=e['Data']['GetColorString'](P),M['shadowBlur']=0x5,M['shadowOffsetX']=0x7,M['shadowOffsetY']=0x7,M['shadowColor']=e['Data']['GetColorString'](Q),e['Renderer']['Util']['DrawRoundRect'](M,W['x'],W['y'],W['width'],W['height'],W['round'],!![],![]);let X=document['getElementById']('ui_notice_img_warning');X!==undefined&&X!==null&&(X['onload']=function(){e['Renderer']['Render']();});let Y=W['x']+0x14;M['drawImage'](X,Y,W['y']+(W['height']/0x2-0x20),0x40,0x40),M['fillStyle']=e['Data']['GetColorString'](N['color']),M['font']=N['size']+'pt\x20'+N['face'],M['textBaseline']='top';let Z=U['height'],a0=0x54;M['fillText'](R,Y+a0,W['y']+0x21+U['ascent']/0x2-0x1);let a1='Contact\x20your\x20administrator.';a1=S,N['size']=0xe,M['font']=N['size']+'pt\x20'+N['face'],U=D(M,a1,N),M['fillText'](a1,Y+a0,W['y']+0x21+Z+0xa+U['ascent']/0x2-0x1),M['shadowBlur']=0x0,M['shadowOffsetX']=0x0,M['shadowOffsetY']=0x0,M['shadowColor']=e['Data']['GetColorString'](Q),M['textBaseline']='alphabetic';}};let E=new f['EventDispatcher'](window,undefined);this['EventHandler']=E,this['TmpTransform']=new f['Vector3'](0x0,0x0,0x0);function F(){h=0x0,i=0x0,j=0x0,g['IDColor']=new f['Color'](0x0,0x0,0x0,0x1),g['ModelFileManager']['Clear'](),g['ShapeAction']['Clear'](),g['Objects']=[],g['ObjectsUpdateLength']=0x0,g['ObjectsBBox']=undefined,g['Reviews']=[],g['TreeMap']['clear'](),g['BodyMap']['clear'](),g['IDMap']['clear'](),g['TotalTriNum']=0x0,g['Review']['Init']();};this['GetStringLeft']=function(M,N,O){if(M['length']<O)return M;else return M['substring'](N,O);},this['GetPath']=function(M){let N=M['split']('/'),O='';for(let P=0x0;P<N['length']-0x1;P++){O+=N[P]+'/';}return O;};function G(M,N){let O=e['Data']['GetStringLeft'](M,M['length']-0x5);return O+'_s_'+N+'.vizw';}function H(M,N){let O=e['Data']['GetStringLeft'](M,M['length']-0x5);return O+'_u_'+N+'.vizw';}function I(M,N){let O=e['Data']['GetStringLeft'](M,M['length']-0x5);return O+'_'+N+'.vizw';}this['ClearProcess']=function(M){if(M===undefined)F();else{let N=new Map();for(let P=0x0;P<M['length'];P++){let Q=e['Data']['ModelFileManager']['GetFileAreaData'](M[P]['Key'],M[P]['Url']);if(Q===undefined)continue;if(Q['objects']!==undefined)for(let R=0x0;R<Q['objects']['length'];R++){let S=Q['objects'][R];N['set'](S['uuid'],S);}g['TotalTriNum']-=Q['tri_num'];}let O=function(T,U,V){for(let W=0x0;W<T['tag']['length'];W++){let X=T['tag'][W];g['BodyMap']['delete'](X['bodyId']);}};N['forEach'](O);for(let T=g['Objects']['length']-0x1;T>=0x0;T--){let U=g['Objects'][T];if(N['has'](U['uuid'])===![])continue;g['ObjectsUpdateLength']--,g['Objects']['splice'](T,0x1);}for(let V=0x0;V<M['length'];V++){g['IDMap']['delete'](M[V]['Key']);}e['RenderWGL']['DeleteUtilWGLItem'](0x5);}},this['ClearProcessAndReserve']=function(M){h=0x0,i=0x0,j=0x0,g['IDColor']=new f['Color'](0x0,0x0,0x0,0x1),g['Objects']=[],g['ObjectsUpdateLength']=0x0,g['ObjectsBBox']=undefined,g['TreeMap']['clear'](),g['BodyMap']['clear'](),g['IDMap']['clear'](),g['TotalTriNum']=0x0,e['reserveCamera']=!![];},this['AddNode']=function(M){if(!e['useAddNodeData'])return;if(!g['TreeMap']['has'](M['index']))g['TreeMap']['set'](M['index'],M);else{}if(g['TreeMap']['has'](M['pIndex'])){let N=g['TreeMap']['get'](M['pIndex']);N['sub'][N['sub']['length']]=M;}},this['AddNodes']=function(M){if(!e['useAddNodeData'])return;for(let N=0x0;N<M['length'];N++){g['AddNode'](M[N]);}},this['AddBody']=function(M){let N=g['BodyMap']['get'](M['bodyId']);if(N!==undefined)N['push'](M),g['BodyMap']['set'](M['bodyId'],N);else{let O=[];O['push'](M),g['BodyMap']['set'](M['bodyId'],O);}},this['AddUserProperty']=function(M){for(let N=0x0;N<M['length'];N++){if(g['PropertyMap']['get'](M[N]['nodeId'])===undefined){let O=v();O['nodeId']=M[N]['nodeId'];for(let P=0x0;P<M[N]['items']['length'];P++){O['arrUserProperties']['push'](M[N]['items'][P]);}g['PropertyMap']['set'](O['nodeId'],O);}else{let Q=g['PropertyMap']['get'](M[N]['nodeId']);for(let R=0x0;R<M[N]['items']['length'];R++){Q['arrUserProperties']['push'](M[N]['items'][R]);}}}},this['GetProperty']=function(M){return g['PropertyMap']['get'](M);},this['GetNode']=function(M){return g['TreeMap']['get'](M);},this['GetParent']=function(M,N){let O=g['TreeMap']['get'](M);if(O!==undefined){if(N===0x0)return O;else return g['GetParent'](O['pIndex'],N-0x1);}else return O;},this['UpdateObjectsBBox']=function(){let M=g['ObjectsUpdateLength'],N=g['Objects']['length'],O=new f['Matrix4']();for(let P=M;P<N;++P){for(let Q=0x0;Q<e['Data']['Objects'][P]['tag']['length'];++Q){let R=g['Objects'][P]['tag'][Q],S=e['Data']['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']),T=new f['Vector3']()['copy'](R['BBox']['min']),U=new f['Vector3']()['copy'](R['BBox']['max']);if(!O['equals'](S['instance'])){let V=[new f['Vector3'](T['x'],T['y'],T['z']),new f['Vector3'](T['x'],T['y'],U['z']),new f['Vector3'](T['x'],U['y'],T['z']),new f['Vector3'](T['x'],U['y'],U['z']),new f['Vector3'](U['x'],T['y'],T['z']),new f['Vector3'](U['x'],T['y'],U['z']),new f['Vector3'](U['x'],U['y'],T['z']),new f['Vector3'](U['x'],U['y'],U['z'])];for(let W=0x0;W<0x8;++W){V[W]['applyMatrix4'](S['instance']),W===0x0?(T['copy'](V[W]),U['copy'](V[W])):(T['min'](V[W]),U['max'](V[W]));}}P+Q===0x0&&g['ObjectsBBox']===undefined?(g['ObjectsBBox']=new f['BBox'](),g['ObjectsBBox']['min']['copy'](T),g['ObjectsBBox']['max']['copy'](U)):(g['ObjectsBBox']['min']['min'](T),g['ObjectsBBox']['max']['max'](U));}}if(g['ObjectsBBox']!==undefined)g['ObjectsBBox']['update']();},this['UpdateAllObjectsBBox']=function(){let M=new f['Matrix4']();g['ObjectsBBox']=undefined;if(e['useTree'])g['ObjectsBBox']=e['Tree']['GetBBoxArrayID'](undefined);else{let N=0x0,O=g['Objects']['length'];for(let P=N;P<O;++P){for(let Q=0x0;Q<e['Data']['Objects'][P]['tag']['length'];++Q){let R=g['Objects'][P]['tag'][Q],S=e['Data']['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']),T=new f['Vector3']()['copy'](R['BBox']['min']),U=new f['Vector3']()['copy'](R['BBox']['max']);if(!M['equals'](S['instance'])){let V=[new f['Vector3'](T['x'],T['y'],T['z']),new f['Vector3'](T['x'],T['y'],U['z']),new f['Vector3'](T['x'],U['y'],T['z']),new f['Vector3'](T['x'],U['y'],U['z']),new f['Vector3'](U['x'],T['y'],T['z']),new f['Vector3'](U['x'],T['y'],U['z']),new f['Vector3'](U['x'],U['y'],T['z']),new f['Vector3'](U['x'],U['y'],U['z'])];for(let W=0x0;W<0x8;++W){V[W]['applyMatrix4'](S['instance']),W===0x0?(T['copy'](V[W]),U['copy'](V[W])):(T['min'](V[W]),U['max'](V[W]));}}if(S['transform']!==undefined&&!M['equals'](S['transform'])){let X=[new f['Vector3'](T['x'],T['y'],T['z']),new f['Vector3'](T['x'],T['y'],U['z']),new f['Vector3'](T['x'],U['y'],T['z']),new f['Vector3'](T['x'],U['y'],U['z']),new f['Vector3'](U['x'],T['y'],T['z']),new f['Vector3'](U['x'],T['y'],U['z']),new f['Vector3'](U['x'],U['y'],T['z']),new f['Vector3'](U['x'],U['y'],U['z'])];for(let Y=0x0;Y<0x8;++Y){X[Y]['applyMatrix4'](S['transform']),Y===0x0?(T['copy'](X[Y]),U['copy'](X[Y])):(T['min'](X[Y]),U['max'](X[Y]));}}g['ObjectsBBox']===undefined?(g['ObjectsBBox']=new f['BBox'](),g['ObjectsBBox']['min']['copy'](T),g['ObjectsBBox']['max']['copy'](U)):(g['ObjectsBBox']['min']['min'](T),g['ObjectsBBox']['max']['max'](U));}g['ObjectsBBox']['update']();}}if(g['ObjectsBBox']===undefined){}},this['GetBBox']=function(M){if(M===undefined){let N=new f['BBox']();return g['ObjectsBBox']!==undefined&&(N['min']['copy'](g['ObjectsBBox']['min']),N['max']['copy'](g['ObjectsBBox']['max'])),N['update'](),N;}else{let O=new f['Matrix4'](),P=new f['BBox']();for(let Q=0x0;Q<M['length'];Q++){let R=e['Data']['ShapeAction']['GetAction'](M[Q]['object']['id_file'],M[Q]['origin_id']),S=new f['Vector3']()['copy'](M[Q]['BBox']['min']),T=new f['Vector3']()['copy'](M[Q]['BBox']['max']);if(!O['equals'](R['instance'])){let U=[new f['Vector3'](S['x'],S['y'],S['z']),new f['Vector3'](S['x'],S['y'],T['z']),new f['Vector3'](S['x'],T['y'],S['z']),new f['Vector3'](S['x'],T['y'],T['z']),new f['Vector3'](T['x'],S['y'],S['z']),new f['Vector3'](T['x'],S['y'],T['z']),new f['Vector3'](T['x'],T['y'],S['z']),new f['Vector3'](T['x'],T['y'],T['z'])];for(let V=0x0;V<0x8;++V){U[V]['applyMatrix4'](R['instance']),V===0x0?(S['copy'](U[V]),T['copy'](U[V])):(S['min'](U[V]),T['max'](U[V]));}}if(!O['equals'](R['transform'])){let W=[new f['Vector3'](S['x'],S['y'],S['z']),new f['Vector3'](S['x'],S['y'],T['z']),new f['Vector3'](S['x'],T['y'],S['z']),new f['Vector3'](S['x'],T['y'],T['z']),new f['Vector3'](T['x'],S['y'],S['z']),new f['Vector3'](T['x'],S['y'],T['z']),new f['Vector3'](T['x'],T['y'],S['z']),new f['Vector3'](T['x'],T['y'],T['z'])];for(let X=0x0;X<0x8;++X){W[X]['applyMatrix4'](R['transform']),X===0x0?(S['copy'](W[X]),T['copy'](W[X])):(S['min'](W[X]),T['max'](W[X]));}}Q===0x0?(P['min']['copy'](S),P['max']['copy'](T)):(P['min']['min'](S),P['max']['max'](T));}return P['update'](),P;}},this['GetExtremeAxisBBoxs']=function(M){let N=[];if(M!==undefined)for(let V=0x0;V<M['length'];V++){let W=e['Data']['GetBBoxByID']([M[V]['bodyId']]);N['push']({'id':M[V]['bodyId'],'bbox':W});}let O=undefined,P=undefined,Q=undefined,R=undefined,S=undefined,T=undefined;if(N['length']>0x0){O=N[0x0],P=N[0x0],Q=N[0x0],R=N[0x0],S=N[0x0],T=N[0x0];for(let X=0x1;X<N['length'];X++){O['bbox']['max']['x']<N[X]['bbox']['max']['x']&&(O=N[X]),P['bbox']['max']['y']<N[X]['bbox']['max']['y']&&(P=N[X]),Q['bbox']['max']['z']<N[X]['bbox']['max']['z']&&(Q=N[X]),R['bbox']['min']['x']>N[X]['bbox']['min']['x']&&(R=N[X]),S['bbox']['min']['y']>N[X]['bbox']['min']['y']&&(S=N[X]),T['bbox']['max']['z']>N[X]['bbox']['max']['z']&&(T=N[X]);}}let U={'plusX':O,'plusY':P,'plusZ':Q,'minusX':R,'minusY':S,'minusZ':T};return U;},this['GetBBoxByID']=function(M){let N=new f['Matrix4'](),O=new f['BBox']();if(e['useTree']){let P=!![];for(let Q=0x0;Q<M['length'];Q++){let R=e['Tree']['GetBBox'](M[Q]);if(R!==undefined&&R['radius']===0x0)continue;let S=new f['Vector3']()['copy'](R['min']),T=new f['Vector3']()['copy'](R['max']);P?(O['min']['copy'](S),O['max']['copy'](T),P=![]):(O['min']['min'](S),O['max']['max'](T));}}else{let U=[];for(let V=0x0;V<M['length'];V++){let W=[],X=new Map(),Y=M[V];K(Y,W,X);for(let Z=0x0;Z<W['length'];Z++){U['push'](W[Z]);}}return g['GetBBox'](U);}return O['update'](),O;},this['GetBBoxFormOriginal']=function(M){if(M===undefined){let N=new f['BBox']();return N;}else{let O=new f['BBox'](),P=new f['Matrix4']();for(let Q=0x0;Q<M['length'];Q++){let R=new f['Vector3']()['copy'](M[Q]['BBox']['min']),S=new f['Vector3']()['copy'](M[Q]['BBox']['max']);Q===0x0?(O['min']['copy'](R),O['max']['copy'](S)):(O['min']['min'](R),O['max']['max'](S));}return O['update'](),O;}},this['GetBBoxFormMatrix']=function(M){if(M===undefined){let N=new f['BBox']();return g['ObjectsBBox']!==undefined&&(N['min']['copy'](g['ObjectsBBox']['min']),N['max']['copy'](g['ObjectsBBox']['max'])),N['update'](),N;}else{let O=new f['Matrix4'](),P=new f['BBox']();for(let Q=0x0;Q<M['length'];Q++){let R=new f['Vector3']()['copy'](M[Q]['BBox']['min']),S=new f['Vector3']()['copy'](M[Q]['BBox']['max']),T=e['Data']['ShapeAction']['GetAction'](M[Q]['object']['id_file'],M[Q]['origin_id']);if(!O['equals'](T['transform'])){let U=[new f['Vector3'](R['x'],R['y'],R['z']),new f['Vector3'](R['x'],R['y'],S['z']),new f['Vector3'](R['x'],S['y'],R['z']),new f['Vector3'](R['x'],S['y'],S['z']),new f['Vector3'](S['x'],R['y'],R['z']),new f['Vector3'](S['x'],R['y'],S['z']),new f['Vector3'](S['x'],S['y'],R['z']),new f['Vector3'](S['x'],S['y'],S['z'])];for(let V=0x0;V<0x8;++V){U[V]['applyMatrix4'](T['transform']),V===0x0?(R['copy'](U[V]),S['copy'](U[V])):(R['min'](U[V]),S['max'](U[V]));}}Q===0x0?(P['min']['copy'](R),P['max']['copy'](S)):(P['min']['min'](R),P['max']['max'](S));}return P['update'](),P;}},this['GetObjectBBox']=function(M){let N=[],O=new Map();K(M,N,O);let P=!![],Q=new f['BBox']();for(let R=0x0;R<g['ObjectsUpdateLength'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];O!==undefined&&(O['get'](U['bodyId'])!==undefined&&(P?(Q['min']['copy'](U['BBox']['min']),Q['max']['copy'](U['BBox']['max']),P=![]):(Q['min']['min'](U['BBox']['min']),Q['max']['max'](U['BBox']['max']))));}}return Q['center']=new f['Vector3']((Q['min']['x']+Q['max']['x'])/0x2,(Q['min']['y']+Q['max']['y'])/0x2,(Q['min']['z']+Q['max']['z'])/0x2),Q['radius']=new f['Vector3']()['copy'](Q['max'])['sub'](Q['min'])['length'](),Q;},this['GetMeasureBoundBoxParamByNode']=function(M,N){let O=![],P=!![],Q=![],R=new f['Matrix4'](),S,T,U,V,W,X=g['GetBodies'](M);{let Y=![],Z=new f['Vector3'](),a0=new f['Vector3']();for(let a1=0x0;a1<X['length'];a1++){!Y?(Z['copy'](X[a1]['BBox']['min']),a0['copy'](X[a1]['BBox']['max']),Y=!![]):(Z['min'](X[a1]['BBox']['min']),a0['max'](X[a1]['BBox']['max']));}if(!Y)return{'result':![]};S=new f['Vector3'](0x1,0x0,0x0),T=new f['Vector3'](0x0,0x1,0x0),U=new f['Vector3'](0x0,0x0,0x1),V=Z,W=new f['Vector3']()['subVectors'](a0,Z);}{let a2=g['GetTriangles'](X,![]),a3=0x8,a4,a5,a6,a7,a8=new f['Vector3'](),a9=new f['Vector3'](),aa=new f['Matrix4'](),ab=0x0,ac=0x0,ad=0x0,ae=new f['Matrix4']();if(P){ab=0x0,ac=0x0,ad=0x0;let ag=0x1,ah=0xa,ai=0x8;for(let aj=0x0;aj<ai;aj++){let ak,al,am,an,ao=!![];for(let ap=0x0;ap<ah;ap++){let aq=3.141592654*0x2*(ab+ag*ap/ah),ar=new f['Matrix4'](),as=new f['Matrix4'](),at=new f['Matrix4'](),au=new f['Vector3'](),av=new f['Vector3'](),aw=new f['Vector3']();e['Util']['GetXandYAxis'](N,au,av),ar=e['Util']['GetAxisTransform'](au,av),as['makeRotationZ'](aq);if(!ar['equals'](R))ar=new f['Matrix4']()['getInverse'](ar);at=new f['Matrix4']()['multiplyMatrices'](as,ar);let ax=new f['Vector3'](),ay=new f['Vector3'](),az=!![],aA;for(let aD=0x0;aD<a2['length'];aD++){for(let aE=0x0;aE<0x3;aE++){let aF=e['Util']['GetTrianglePos'](a2[aD],aE);aA=at['multiplyVector'](aF);if(az){az=![],ax['copy'](aA),ay['copy'](aA);continue;}ax['min'](aA),ay['max'](aA);}}let aB=new f['Vector3']()['subVectors'](ay,ax),aC=aB['x']*aB['y']*aB['z'];if(ao)ao=![],an=aC,ak=aq,ae['copy'](at);else an>aC&&(an=aC,ak=aq,ae['copy'](at));}ab=ak/3.141592654/0x2,ag=ag/ah*0x2,ab-=ag/0x2;}}{let aG=ab*3.141592654*0x2,aH=ac*3.141592654*0x2,aI=ad*3.141592654*0x2,aJ=new f['Matrix4'](),aK=new f['Matrix4'](),aL=new f['Matrix4'](),aM=new f['Matrix4']();aJ['makeRotationX'](aG),aK['makeRotationY'](aH),aL['makeRotationZ'](aI),aM=new f['Matrix4']()['multiplyMatrices'](aL,new f['Matrix4']()['multiplyMatrices'](aK,aJ));if(P||Q)aM['copy'](ae);let aN=new f['Vector3'](),aO=new f['Vector3'](),aP=!![],aQ;for(let aT=0x0;aT<a2['length'];aT++){for(let aU=0x0;aU<0x3;aU++){let aV=e['Util']['GetTrianglePos'](a2[aT],aU);aQ=aM['multiplyVector'](aV);if(aP){aP=![],aN['copy'](aQ),aO['copy'](aQ);continue;}aN['min'](aQ),aO['max'](aQ);}}let aR=new f['Vector3']()['subVectors'](aO,aN),aS=aR['x']*aR['y']*aR['z'];aa['copy'](aM),a8['copy'](aN),a9['copy'](aR);}S=new f['Vector3'](0x1,0x0,0x0),T=new f['Vector3'](0x0,0x1,0x0),U=new f['Vector3'](0x0,0x0,0x1);let af=new f['Matrix4']()['copy'](aa);if(P||Q)af=ae;if(!af['equals'](R))af=new f['Matrix4']()['getInverse'](af);af['setPosition'](new f['Vector3']()),S=af['multiplyVector'](S),T=af['multiplyVector'](T),U=af['multiplyVector'](U),V['copy'](a8),V=af['multiplyVector'](V),W['copy'](a9);}return{'result':!![],'vBase':V,'vXAxis':S,'vYAxis':T,'vZAxis':U,'vOffset':W};},this['GetNodeCenterNearsetSurfacePos']=function(M){let N=g['GetBodies'](M),O=![],P=new f['Vector3'](),Q=new f['Vector3']();for(let X=0x0;X<N['length'];X++){!O?(P['copy'](N[X]['BBox']['min']),Q['copy'](N[X]['BBox']['max']),O=!![]):(P['min'](N[X]['BBox']['min']),Q['max'](N[X]['BBox']['max']));}if(!O)return e['Data']['PickDataItem']();O=![];let R=0x0,S=new f['Vector3'](),T=-0x1;const U=new f['Vector3']()['addVectors'](Q,P)['multiplyScalar'](0.5);for(let Y=0x0;Y<N['length'];Y++){let Z=g['GetTriangles']([N[Y]],![]);for(let a0=0x0;a0<Z['length'];a0++){for(let a1=0x0;a1<0x3;a1++){let a2=e['Util']['GetTrianglePos'](Z[a0],a1),a3=new f['Vector3']()['subVectors'](a2,U)['lengthSq']();if(!O)O=!![],R=a3,S=a2,T=Y;else a3<R&&(R=a3,S=a2,T=Y);}}}if(!O)return e['Data']['PickDataItem']();let V=e['Camera']['world2ScreenWithMatrix'](e['Camera']['matMVP'],S),W=e['Pick']['GetPickByBody'](N[T]['bodyId'],V['x'],V['y']);return W;};function J(M,N){let O=new f['BBox']();for(let P=M['m_vnIdx'];P<M['m_vnIdx']+M['m_nVtx'];P+=0x3){let Q=new f['Vector3'](N[P],N[P+0x1],N[P+0x2]);P===M['m_vnIdx']?(O['min']['copy'](Q),O['max']['copy'](Q)):(O['min']['min'](Q),O['max']['max'](Q));}return O['center']=new f['Vector3']((O['min']['x']+O['max']['x'])/0x2,(O['min']['y']+O['max']['y'])/0x2,(O['min']['z']+O['max']['z'])/0x2),O;}this['UUIDv4']=function M(N){return N?(N^Math['random']()*0x10>>N/0x4)['toString'](0x10):([0x989680]+-0x3e8+-0xfa0+-0x1f40+-0x174876e800)['replace'](/[018]/g,M);},this['GetNode']=function(N){return this['TreeMap']['get'](N);},this['GetOriginNodeID']=function(N,O){if(O===undefined)return undefined;let P=g['GetStartID'](N);return O-P;},this['GetNodeID']=function(N,O){let P=g['GetStartID'](N);return O+P;},this['GetSubNodes']=function(N){return N===-0x1?this['Roots']:this['TreeMap']['get'](N)['sub'];},this['GetNodeData']=function(N){let O=[],P=new Map();K(N,O,P);let Q=[];for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];P!==undefined&&(P['get'](U['bodyId'])!==undefined&&(U['object']=S,Q['push'](U)));}}return Q;},this['GetBody']=function(N){return g['BodyMap']['get'](N);},this['GetBodyByOrignalID']=function(N,O){let P=g['GetNodeID'](N,O);return g['GetBody'](P);},this['GetBodyByIDMap']=function(N){let O=[];for(let P=0x0;P<g['Objects']['length'];P++){let Q=g['Objects'][P];for(let R=0x0;R<Q['tag']['length'];R++){let S=Q['tag'][R];N!==undefined&&(N['has'](S['bodyId'])&&O['push'](S));}}return O;},this['GetBodies']=function(N){let O=[];if(e['useTree'])O=e['Tree']['GetBodies'](N);else{let P=new Map();for(let Q=0x0;Q<N['length'];Q++){let R=N[Q];K(R,O,P);}}return O;},this['GetBodiesByFile']=function(N){let O=[];if(e['useTree']){let P=e['Tree']['GetRootNodeByFileKey'](N),Q=[];for(let R=0x0;R<P['length'];R++){if(P[R]===undefined)continue;Q['push'](P[R]['node_id']);}if(Q['length']>0x0)O=e['Tree']['GetBodies'](Q);}else for(let S=0x0;S<g['Objects']['length'];S++){let T=g['Objects'][S];if(e['Util']['EqualDataTypeValue'](N,T['id_file']))for(let U=0x0;U<T['tag']['length'];U++){let V=T['tag'][U];O['push'](V);}}return O;},this['GetBodyIdsByFile']=function(N){let O=[];if(e['useTree']){let P=e['Tree']['GetRootNodeByFileKey'](N),Q=[];for(let R=0x0;R<P['length'];R++){if(P[R]===undefined)continue;Q['push'](P[R]['node_id']);}if(Q['length']>0x0)O=e['Tree']['GetBodyIds'](Q);}else for(let S=0x0;S<g['Objects']['length'];S++){let T=g['Objects'][S];if(e['Util']['EqualDataTypeValue'](N,T['id_file']))for(let U=0x0;U<T['tag']['length'];U++){let V=T['tag'][U];O['push'](V['bodyId']);}}return O;},this['GetBodyIdsByNodeIds']=function(N){let O=[],P=new Map();for(let Q=0x0;Q<N['length'];Q++){let R=N[Q];if(P['has'](R))continue;P['set'](R,R);}for(let S=0x0;S<g['Objects']['length'];S++){let T=g['Objects'][S];for(let U=0x0;U<T['tag']['length'];U++){let V=T['tag'][U];if(!P['has'](V['nodeId'])&&!P['has'](V['bodyId']))continue;O['push'](V['bodyId']);}}return O;},this['GetBodyIdsByOriginID']=function(N,O){let P=[],Q=new Map();for(let R=0x0;R<O['length'];R++){let S=O[R];if(Q['has'](S))continue;Q['set'](S,S);}for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(e['Util']['EqualDataTypeValue'](N,U['id_file'])===![])continue;if(!Q['has'](W['nodeId'])&&!Q['has'](W['bodyId']))continue;P['push'](W['bodyId']);}}return P;},this['GetPickByBody']=function(N,O,P){return e['Pick']['GetPickByBody'](N,O,P);},this['GetBodiesByMaterial']=function(N){let O=[];if(e['useTree']){let P=e['Tree']['GetRootNode']();for(let Q=0x0;Q<P['length'];Q++){let R=e['Tree']['GetBodyId'](P[Q]['node_id']),S=g['GetBodies'](R);for(let T=0x0;T<S['length'];T++){let U=S[T],V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);if(V['material']!==N)continue;O['push'](S[T]);}}}else{}return O;},this['GetPickByBodyCacheDownload']=function(N,O,P){e['Pick']['GetPickByBodyCacheDownload'](N,O,P);},this['GetPreselectPick']=function(N,O,P){e['Pick']['GetPreselectPick'](N,O,P);},this['GetWorldPickByID']=function(N,O,P){return e['Pick']['GetWorldPickByID'](N,O,P);},this['GetWorldPick']=function(N,O,P){return e['Pick']['GetWorldPick'](N,O,P);},this['ColorItem']=function(N,O,P,Q){let R={'R':N===undefined?0xff:N,'G':O===undefined?0xff:O,'B':P===undefined?0xff:P,'A':Q===undefined?0x1:Q};return R;},this['GetBodyByColorIdx']=function(N){for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];for(let Q=0x0;Q<P['tag']['length'];Q++){let R=P['tag'][Q];if(R['colorIdx']===N)return R;}}return undefined;},this['Select']=function(N,O,P){if(e['useTree'])e['Tree']['Select'](N,O,P);else{let Q=[],R=new Map();K(N,Q,R);let S=[];for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(R!==undefined){if(R['get'](W['bodyId'])!==undefined){let X=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);X['selection']!==O&&(X['selection']=O,S['push'](W['bodyId']));}else{if(!P){let Y=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);if(Y['selection'])S['push'](W['bodyId']);Y['selection']=![];}}}else{if(!P){if(action['selection'])S['push'](W['bodyId']);action['selection']=![],S['push'](W['bodyId']);}}}}e['Data']['UpdateObjectsFlagProcess'](S),e['Renderer']['MainFBClear'](),e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Selected'],N);}},this['GetSelection']=function(){let N=[];if(e['useTree'])return e['Tree']['GetSelection'](!![]);else{let O=new Map();for(let P=0x0;P<g['Objects']['length'];P++){let Q=g['Objects'][P];for(let R=0x0;R<Q['tag']['length'];R++){let S=Q['tag'][R];if(O['has'](S['bodyId'])===![])continue;let T=e['Data']['ShapeAction']['GetAction'](S['object']['id_file'],S['origin_id']);T['selection']&&(O['set'](S['bodyId'],S['bodyId']),N['push'](S['bodyId']));}}}return N;},this['GetSelectionNodes']=function(){let N=[];if(e['Tree'])return e['Tree']['GetSelectionNodes']();else{let O=new Map();for(let P=0x0;P<g['Objects']['length'];P++){let Q=g['Objects'][P];for(let R=0x0;R<Q['tag']['length'];R++){let S=Q['tag'][R];if(O['has'](S['bodyId'])===![])continue;let T=e['Data']['ShapeAction']['GetAction'](S['object']['id_file'],S['origin_id']);T['selection']&&(O['set'](S['bodyId'],S['bodyId']),N['push'](S['bodyId']));}}}return N;},this['SetSelectionNodes']=function(N,O){if(e['Tree']){e['Tree']['ClearSelectionNodes']();for(let P=0x0;P<N['length'];P++){e['Tree']['SetSelectionNodes'](N[P],O);}}else{let Q=[],R=new Map();K(id,Q,R);let S=[];for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(R!==undefined){if(R['get'](W['bodyId'])!==undefined){let X=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);X['selection']!==O&&(X['selection']=O,S['push'](W['bodyId']));}else{if(!append){let Y=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);if(Y['selection'])S['push'](W['bodyId']);Y['selection']=![];}}}else{if(!append){if(action['selection'])S['push'](W['bodyId']);action['selection']=![],S['push'](W['bodyId']);}}}}e['Data']['UpdateObjectsFlagProcess'](S),e['Renderer']['MainFBClear'](),e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Selected'],id);}},this['SelectUpperNode']=function(N,O,P,Q){e['useTree']&&e['Tree']['SelectUpperNode'](N,O,P,Q);},this['GetSelectedObjectsBBox']=function(){let N=g['GetSelection']();if(N===undefined)return undefined;return g['GetBBoxByID'](N);},this['ObjectsSelectBox']=function(N,O,P,Q,R,S){const T=e['Renderer']['GetSizeWidth'](),U=e['Renderer']['GetSizeHeight']();let V,W,X,Y;V=N/T*0x2-0x1,W=P/T*0x2-0x1,X=-(Q/U*0x2-0x1),Y=-(O/U*0x2-0x1);let Z=new f['Vector3'](V,X,0x0),a0=new f['Vector3'](W,X,0x0),a1=new f['Vector3'](W,Y,0x0),a2=new f['Vector3'](V,Y,0x0),a3=[],a4=e['Camera']['GetPerspectiveNeaPlane']();if(S===undefined)S=e['Configuration']['Model']['Selection']['Kind'];if(S===f['Enum']['SelectionObject3DTypes']['NONE'])return![];if(e['useTree']){let a5=e['Tree']['GetRootNode']();for(let a6=0x0;a6<a5['length'];a6++){let a7=e['Tree']['GetBodyId'](a5[a6]['node_id']);for(let a8=0x0;a8<a7['length'];a8++){let a9=e['Tree']['GetNode'](a7[a8]);if(!a9['visible'])continue;let aa=e['Tree']['GetBBox'](a7[a8]),ab=[new f['Vector3'](aa['min']['x'],aa['min']['y'],aa['min']['z']),new f['Vector3'](aa['min']['x'],aa['min']['y'],aa['max']['z']),new f['Vector3'](aa['min']['x'],aa['max']['y'],aa['min']['z']),new f['Vector3'](aa['min']['x'],aa['max']['y'],aa['max']['z']),new f['Vector3'](aa['max']['x'],aa['min']['y'],aa['min']['z']),new f['Vector3'](aa['max']['x'],aa['min']['y'],aa['max']['z']),new f['Vector3'](aa['max']['x'],aa['max']['y'],aa['min']['z']),new f['Vector3'](aa['max']['x'],aa['max']['y'],aa['max']['z'])],ac=[],ad=[[0x0,0x1,0x2],[0x1,0x2,0x3],[0x4,0x5,0x6],[0x5,0x6,0x7],[0x0,0x2,0x4],[0x2,0x4,0x6],[0x1,0x3,0x5],[0x3,0x5,0x7],[0x2,0x3,0x6],[0x3,0x6,0x7],[0x0,0x1,0x4],[0x1,0x4,0x5]],ae=new f['Matrix4']()['copy'](e['Camera']['matMVP']);for(let ai=0x0;ai<0x8;ai++)ac[ai]=new f['Vector3']()['copy'](ab[ai])['applyMatrix4'](ae);let af=![],ag=![],ah=0x0;for(let aj=0x0;aj<0xc;aj++){if(e['Camera']['perspectiveView']){if(e['Util']['IsRenderReivewNearPlane'](ab[ad[aj][0x0]],a4)||e['Util']['IsRenderReivewNearPlane'](ab[ad[aj][0x1]],a4)||e['Util']['IsRenderReivewNearPlane'](ab[ad[aj][0x2]],a4))continue;}if(R){if(e['Util']['IsTriangleInBox2D'](ac[ad[aj][0x0]],ac[ad[aj][0x1]],ac[ad[aj][0x2]],Z,a1)){ag=!![],ah++;continue;}}else{if(e['Util']['IsTriangleCrossBox2D'](ac[ad[aj][0x0]],ac[ad[aj][0x1]],ac[ad[aj][0x2]],Z,a0,a1,a2)){af=!![];break;}}}if(R&&!ag)continue;if(R&&ah!==0xc)continue;if(!R&&!af)continue;a3['push'](a7[a8]);}}}else{}if(a3['length']<=0x0)return![];if(S!==f['Enum']['SelectionObject3DTypes']['ALL']){let ak=new Map(),al=g['GetBodies'](a3);if(S===f['Enum']['SelectionObject3DTypes']['OPAQUE_OBJECT3D'])for(let am=0x0;am<al['length'];am++){let an=al[am];if(ak['has'](an['bodyId']))continue;let ao=an['color'],ap=e['Data']['ShapeAction']['GetAction'](an['object']['id_file'],an['origin_id']);ap['color']!==undefined&&(ao=ap['color']);if(an['color']['a']!==0xff)continue;ak['set'](an['bodyId'],an['bodyId']);}else{if(S===f['Enum']['SelectionObject3DTypes']['CUSTOMCOLOR_OBJECT3D'])for(let aq=0x0;aq<al['length'];aq++){let ar=al[aq];if(ak['has'](ar['bodyId']))continue;let as=e['Data']['ShapeAction']['GetAction'](ar['object']['id_file'],ar['origin_id']);if(as['color']===undefined)continue;ak['set'](ar['bodyId'],ar['bodyId']);}}a3=Array['from'](ak['values']());}return e['useTree']&&e['Tree']['SelectMulti'](a3,!![],![]),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['BoxSelected'],a3),!![];},this['SetSelectedObjectsColor']=function(N){for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];for(let Q=0x0;Q<P['tag']['length'];Q++){let R=P['tag'][Q],S=e['Data']['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']);if(S['selection']){P['flag']['updateProcess']=!![];if(N!==undefined)S['color']=new f['Color']()['copy'](N);else S['color']=N;}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['Show']=function(N,O){if(e['useTree'])e['Tree']['ShowObject'](N,O);else{let P=[],Q=new Map();K(N,P,Q);for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(Q!==undefined){if(Q['get'](U['bodyId'])!==undefined){let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);V['visible']!==O&&(S['flag']['updateProcess']=!![],V['visible']=O);}}}}e['Renderer']['Render']();}},this['ShowMulti']=function(N,O){if(e['useTree'])e['Tree']['ShowMulti'](N,O);else{let P=new Map();for(let Q=0x0;Q<N['length'];Q++){let R=[];K(N[Q],R,P);}for(let S=0x0;S<g['Objects']['length'];S++){let T=g['Objects'][S];for(let U=0x0;U<T['tag']['length'];U++){let V=T['tag'][U];if(P!==undefined){if(P['get'](V['bodyId'])!==undefined){let W=e['Data']['ShapeAction']['GetAction'](V['object']['id_file'],V['origin_id']);W['visible']!==O&&(T['flag']['updateProcess']=!![],W['visible']=O);}}}}e['Renderer']['Render']();}},this['ShowSelection']=function(N){if(e['useTree'])e['Tree']['ShowSelection'](N);else{for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];for(let Q=0x0;Q<P['tag']['length'];Q++){let R=P['tag'][Q],S=g['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']);S['selection']&&(S['visible']=N,P['flag']['updateProcess']=!![]);}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();}},this['ShowAll']=function(N){if(e['useTree'])e['Tree']['ShowAll'](N);else{for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];for(let Q=0x0;Q<P['tag']['length'];Q++){let R=P['tag'][Q],S=g['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']);S['visible']!==N&&(S['visible']=N,P['flag']['updateProcess']=!![]);}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();}},this['SelectAll']=function(){if(e['useTree'])e['Tree']['SelectAll']();else{let N=![];for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];for(let Q=0x0;Q<P['tag']['length'];Q++){let R=P['tag'][Q],S=g['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']);S['selection']!==!![]&&(S['selection']=!![],P['flag']['updateProcess']=!![],N=!![]);}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();}},this['DeselectAll']=function(){if(e['useTree'])e['Tree']['DeselectAll']();else{let N=![];for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];for(let Q=0x0;Q<P['tag']['length'];Q++){let R=P['tag'][Q],S=g['ShapeAction']['GetAction'](R['object']['id_file'],R['origin_id']);S['selection']!==![]&&(S['selection']=![],P['flag']['updateProcess']=!![],N=!![]);}}e['Renderer']['MainFBClear'](),e['Renderer']['Render'](),E['dispatchEvent'](f['Enum']['EVENT_TYPES']['Data']['Deselect_All']);}},this['UnselectHide']=function(){if(e['useTree'])e['Tree']['UnselectHide']();else for(let N=0x0;N<g['Objects']['length'];N++){let O=g['Objects'][N];for(let P=0x0;P<O['tag']['length'];P++){let Q=O['tag'][P],R=g['ShapeAction']['GetAction'](Q['object']['id_file'],Q['origin_id']);if(!R['visible'])continue;if(R['selection'])continue;R['visible']=![],O['flag']['updateProcess']=!![];}}e['ViewRefresh']();},this['InvertSelection']=function(){if(e['useTree'])e['Tree']['InvertSelection']();else for(let N=0x0;N<g['Objects']['length'];N++){let O=g['Objects'][N];for(let P=0x0;P<O['tag']['length'];P++){let Q=O['tag'][P],R=g['ShapeAction']['GetAction'](Q['object']['id_file'],Q['origin_id']);R['selection']=!R['selection'],O['flag']['updateProcess']=!![];}}e['ViewRefresh']();},this['Transform']=function(N,O,P){let Q=[],R=new Map();K(N,Q,R);let S=g['GetBBox'](Q),T=e['Util']['GetTransformMatrix'](S['center'],O,P);for(let U=0x0;U<g['Objects']['length'];U++){let V=g['Objects'][U];for(let W=0x0;W<V['tag']['length'];W++){let X=V['tag'][W];if(R!==undefined){if(R['get'](X['bodyId'])!==undefined){let Y=e['Data']['ShapeAction']['GetAction'](X['object']['id_file'],X['origin_id']);Y['transform']['copy'](T);if(Y['transInfo']===undefined)Y['transInfo']=e['Data']['TransInfoItem']();Y['transInfo']['translate']['copy'](O),Y['transInfo']['rotate']['copy'](P),V['flag']['updateProcess']=!![];}}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['GetTransformFromMatrix']=function(N,O,P){let Q=[],R=new Map();K(N,Q,R);let S=g['GetBBox'](Q),T=e['Util']['GetTransformMatrix'](S['center'],O,P);return T;},this['GetTransformByOriginalFromMatrix']=function(N,O,P){let Q=[],R=new Map();K(N,Q,R);let S=g['GetBBoxFormOriginal'](Q),T=e['Util']['GetTransformMatrix'](S['center'],O,P);return T;},this['ClearObjectCustomColor']=function(N){let O=new Map();if(N!==undefined)for(let P=0x0;P<N['length'];P++){O['set'](N[P],N[P]);}for(let Q=0x0;Q<g['Objects']['length'];Q++){let R=g['Objects'][Q];for(let S=0x0;S<R['tag']['length'];S++){let T=R['tag'][S],U=![];(N===undefined||O['has'](T['bodyId']))&&(U=!![]);if(U){let V=e['Data']['ShapeAction']['GetAction'](T['object']['id_file'],T['origin_id']);(V['customColor']||V['color']!==undefined)&&(V['customColor']=![],V['color']=undefined,R['flag']['updateProcess']=!![],V['userDefaultColor']&&(V['customColor']=!![],V['color']=new f['Color']()['copy'](V['userDefaultColor'])));}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['SetObjectCustomColor']=function(N,O){let P=new Map();for(let Q=0x0;Q<N['length'];Q++){P['set'](N[Q],N[Q]);}for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(P['has'](U['bodyId'])){let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);V['customColor']=!![],O===undefined?V['color']=new f['Color']()['copy'](U['color']):V['color']=new f['Color']()['copy'](O),S['flag']['updateProcess']=!![];}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['GetObjectCustomColor']=function(N){let O=new Map(),P=[];for(let Q=0x0;Q<N['length'];Q++){O['set'](N[Q],N[Q]);}for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(O['has'](U['bodyId'])){let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);if(V['color']===undefined){if(U['color']!==undefined)P['push'](U['color']);}else P['push'](V['color']);}}}return P;},this['SetObjectCustomColorRGB']=function(N,O){let P=new Map();for(let Q=0x0;Q<N['length'];Q++){P['set'](N[Q],N[Q]);}for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(P['has'](U['bodyId'])){let V=new f['Color'](),W=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']),X=U['color'];if(W['customColor']&&W['color']!==undefined)V['copy'](W['color']);else W['userDefaultColor']?(X=W['userDefaultColor'],V['copy'](W['userDefaultColor'])):(X=U['color'],V['copy'](U['color']));O===undefined?V['set'](X['r'],X['g'],X['b'],V['a']):V['set'](O['r'],O['g'],O['b'],V['a']),W['customColor']=!![],W['color']=V,S['flag']['updateProcess']=!![];}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['SetObjectCustomColorAlpha']=function(N,O){let P=new Map();for(let Q=0x0;Q<N['length'];Q++){P['set'](N[Q],N[Q]);}for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(P['has'](U['bodyId'])){let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']),W=new f['Color'](),X=U['color'];if(V['customColor']&&V['color']!==undefined)W['copy'](V['color']);else V['userDefaultColor']?(X=V['userDefaultColor'],W['copy'](V['userDefaultColor'])):(X=U['color'],W['copy'](U['color']));O===undefined?W['set'](W['r'],W['g'],W['b'],X['a']):W['set'](W['r'],W['g'],W['b'],O),V['customColor']=!![],V['color']=W,S['flag']['updateProcess']=!![];}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['ClearObjectUserDefaultColor']=function(N){let O=new Set();if(N!==undefined)for(let P=0x0;P<N['length'];P++){O['set'](N[P]);}for(let Q=0x0;Q<g['Objects']['length'];Q++){let R=g['Objects'][Q];for(let S=0x0;S<R['tag']['length'];S++){let T=R['tag'][S],U=![];(N===undefined||O['has'](T['bodyId']))&&(U=!![]);if(U){let V=e['Data']['ShapeAction']['GetAction'](T['object']['id_file'],T['origin_id']);V['userDefaultColor']=undefined;}}}},this['SetObjectUserDefaultColor']=function(N,O){let P=new Set();for(let Q=0x0;Q<N['length'];Q++){P['set'](N[Q]);}for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(!P['has'](U['bodyId']))continue;let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);if(O)V['userDefaultColor']=new f['Color']()['copy'](O);else V['userDefaultColor']=undefined;}}},this['UpdateObjectsFlagProcess']=function(N){if(N===undefined)for(let O=0x0;O<g['Objects']['length'];O++){g['Objects'][O]['flag']['updateProcess']=!![];}else for(let P=0x0;P<N['length'];P++){let Q=g['GetBody'](N[P]);if(Q===undefined)continue;for(let R=0x0;R<Q['length'];R++){Q[R]['object']['flag']['updateProcess']=!![];}}};function K(N,O,P){if(e['useLOD']){let Q=g['BodyMap']['get'](N);if(Q===undefined)return O;for(let R=0x0;R<Q['length'];R++){if(P['has'](Q[R]['bodyId']))continue;P['set'](Q[R]['bodyId'],Q[R]),O['push'](Q[R]);}}else{if(g['TreeMap']['size']>0x0){let S=g['TreeMap']['get'](N);if(S===undefined)return O;if(S['itemType']===f['Enum']['ENTITY_TYPES']['EntBody']){O['push'](S);if(P!==undefined)P['set'](S['index'],S);}if(S['sub']!==undefined)for(let T=0x0;T<S['sub']['length'];T++){if(S['sub'][T]['itemType']===f['Enum']['ENTITY_TYPES']['EntAssembly']||S['sub'][T]['itemType']===f['Enum']['ENTITY_TYPES']['EntPart'])K(S['sub'][T]['index']*0x1,O,P);else{O['push'](S['sub'][T]);if(P!==undefined)P['set'](S['sub'][T]['index'],S['sub'][T]);}}}else{let U=g['GetBody'](N);if(U===undefined)return O;for(let V=0x0;V<U['length'];V++){O['push'](U[V]);if(P!==undefined)P['set'](U[V]['bodyId'],U[V]);}}}return O;}this['ClearModelObjectCustomEdge']=function(N){let O=new Map();if(N!==undefined)for(let P=0x0;P<N['length'];P++){O['set'](N[P],N[P]);}for(let Q=0x0;Q<g['Objects']['length'];Q++){let R=g['Objects'][Q];for(let S=0x0;S<R['tag']['length'];S++){let T=R['tag'][S],U=![];(N===undefined||O['has'](T['bodyId']))&&(U=!![]);if(U){let V=e['Data']['ShapeAction']['GetAction'](T['object']['id_file'],T['origin_id']);V['useCustomEdge']&&(V['useCustomEdge']=![],R['flag']['updateProcess']=!![]);}}}},this['SetModelObjectCustomEdge']=function(N,O){let P=new Map();for(let Q=0x0;Q<N['length'];Q++){P['set'](N[Q],N[Q]);}for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(P['has'](U['bodyId'])){let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);V['useCustomEdge']=O,S['flag']['updateProcess']=!![];}}}},this['GetReview']=function(N){return g['Review']['GetReview'](N);},this['DeleteReivewAll']=function(){g['Review']['DeleteReivewAll']();},this['DeleteReview']=function(N){g['Review']['DeleteReview'](N);},this['DeleteReviewByKind']=function(N){g['Review']['DeleteReviewByKind'](N);},this['IsReviewNoteItem']=function(N){return g['Review']['IsReviewNoteItem'](N);},this['IsReviewMeasureItem']=function(N){return g['Review']['IsReviewMeasureItem'](N);},this['ZoomSelection']=function(N,O){if(e['useTree']){let P=e['Tree']['GetSelection'](!![]);if(P['length']===0x0)return;let Q=e['Tree']['GetBBoxArrayID'](P);N!==undefined&&(Q['min']['x']-=N,Q['min']['y']-=N,Q['min']['z']-=N,Q['max']['x']+=N,Q['max']['y']+=N,Q['max']['z']+=N,Q['update']()),e['Camera']['FocusBBox'](Q,O);}else{let R=[];for(let S=0x0;S<g['Objects']['length'];S++){let T=g['Objects'][S];for(let U=0x0;U<T['tag']['length'];U++){let V=T['tag'][U],W=e['Data']['ShapeAction']['GetAction'](V['object']['id_file'],V['origin_id']);W['selection']&&R['push'](V);}}if(R['length']>0x0){let X=g['GetBBoxFormMatrix'](R);N!==undefined&&(X['min']['x']-=N,X['min']['y']-=N,X['min']['z']-=N,X['max']['x']+=N,X['max']['y']+=N,X['max']['z']+=N),e['Camera']['FocusBBox'](X);}}},this['GetFileUnitNodeMap']=function(){let N=new Map();for(let O=0x0;O<g['Objects']['length'];O++){let P=g['Objects'][O];if(!N['has'](P['link']))N['set'](P['link'],P['tag']);else{let Q=N['get'](P['link']),R=Q['concat'](P['tag']);N['set'](P['link'],R);}}return N;},this['SetObjectColor']=function(N,O){let P=[],Q=new Map();K(N,P,Q);for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(Q!==undefined){if(Q['get'](U['bodyId'])!==undefined){let V=e['Data']['ShapeAction']['GetAction'](S['id_file'],U['origin_id']);if(V===undefined)continue;V['customColor']=!![],O!==undefined?V['color']['copy'](O):V['color']['copy'](U['color']),S['flag']['updateProcess']=!![];}}}}e['Renderer']['MainFBClear'](),e['Renderer']['Render']();},this['SetObjectMatrix']=function(N,O){let P=new Map();for(let S=0x0;S<N['length'];S++){P['set'](N[S],N[S]);}let Q=new f['Vector3'](),R=new f['Vector3']();e['Util']['GetRotateTranslateFormMatrix'](O,Q,R);for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(P['get'](W['bodyId'])!==undefined){let X=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);X['transform']=O;if(X['transInfo']===undefined)X['transInfo']=e['Data']['TransInfoItem']();X['transInfo']['translate']['copy'](Q),X['transInfo']['rotate']['copy'](R),U['flag']['updateProcess']=!![];}}}},this['SetObjectMoveRotate']=function(N,O,P,Q){let R=new Map();for(let S=0x0;S<N['length'];S++){R['set'](N[S],N[S]);}for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(R['get'](W['bodyId'])!==undefined){let X=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);X['transform']['copy'](Q);if(X['transInfo']===undefined)X['transInfo']=e['Data']['TransInfoItem']();X['transInfo']['translate']['copy'](O),X['transInfo']['rotate']['copy'](P),U['flag']['updateProcess']=!![];}}}},this['GetObjectTransform']=function(N){let O=new Map();for(let Q=0x0;Q<N['length'];Q++){O['set'](N[Q],N[Q]);}let P=[];for(let R=0x0;R<g['Objects']['length'];R++){let S=new f['Vector3'](),T=new f['Vector3'](),U=new f['Matrix4'](),V=g['Objects'][R];for(let W=0x0;W<V['tag']['length'];W++){let X=V['tag'][W];if(O['get'](X['bodyId'])!==undefined){let Y=e['Data']['ShapeAction']['GetAction'](X['object']['id_file'],X['origin_id']);U['copy'](Y['transform']);if(Y['transInfo']===undefined)Y['transInfo']=e['Data']['TransInfoItem']();S['copy'](Y['transInfo']['translate']),T['copy'](Y['transInfo']['rotate']),P['push']({'move':S,'rotate':T,'matrix':U});}}}return P;},this['ClearObjectMatrix']=function(N){if(N!==undefined){let O=new Map();for(let Q=0x0;Q<N['length'];Q++){O['set'](N[Q],N[Q]);}let P=new f['Matrix4']();for(let R=0x0;R<g['Objects']['length'];R++){let S=g['Objects'][R];for(let T=0x0;T<S['tag']['length'];T++){let U=S['tag'][T];if(O['get'](U['bodyId'])!==undefined){let V=e['Data']['ShapeAction']['GetAction'](U['object']['id_file'],U['origin_id']);V['transform']['equals'](P)===![]&&(V['transform']['identity'](),S['flag']['updateProcess']=!![],V['transInfo']===undefined);}}}}else{let W=new f['Matrix4']();for(let X=0x0;X<g['Objects']['length'];X++){let Y=g['Objects'][X];for(let Z=0x0;Z<Y['tag']['length'];Z++){let a0=Y['tag'][Z],a1=e['Data']['ShapeAction']['GetAction'](a0['object']['id_file'],a0['origin_id']);a1['transform']['equals'](W)===![]&&(a1['transform']['identity'](),Y['flag']['updateProcess']=!![],a1['transInfo']===undefined);}}}},this['SetObjectMaterial']=function(N,O){if(e['useTree']){let P=e['Tree']['GetBodyIds'](N);for(let Q=0x0;Q<P['length'];Q++){let R=e['Data']['ModelFileManager']['GetFileKeyByNodeID'](P[Q]),S=e['Data']['GetOriginNodeID'](R,P[Q]),T=e['Data']['ShapeAction']['GetAction'](R,S);T===undefined&&(T=e['Data']['ActionItem'](),e['Data']['ShapeAction']['SetAction'](R,S,T)),T['material']=O;}e['Data']['UpdateObjectsFlagProcess'](P);}else for(let U=0x0;U<g['Objects']['length'];U++){let V=g['Objects'][U];for(let W=0x0;W<V['tag']['length'];W++){let X=V['tag'][W];if(bodyMap!==undefined){if(bodyMap['get'](X['bodyId'])!==undefined){let Y=e['Data']['ShapeAction']['GetAction'](V['id_file'],X['origin_id']);if(Y===undefined)continue;Y['material']=O,V['flag']['updateProcess']=!![];}}}}},this['GetObjectMaterial']=function(N){if(e['useTree']){let O=e['Tree']['GetBodyIds']([N]);for(let P=0x0;P<O['length'];P++){let Q=e['Data']['ModelFileManager']['GetFileKeyByNodeID'](O[P]),R=e['Data']['GetOriginNodeID'](Q,O[P]),S=e['Data']['ShapeAction']['GetAction'](Q,R);if(S===undefined)continue;return S['material'];}}else for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(bodyMap!==undefined){if(bodyMap['get'](W['bodyId'])!==undefined){let X=e['Data']['ShapeAction']['GetAction'](U['id_file'],W['origin_id']);if(X===undefined)continue;return X['material'];}}}}return-0x1;},this['GetTriangles']=function(N,O){let P=0x0,Q=[];if(O===undefined)O=!![];let R=new f['Matrix4']();for(let S=0x0;S<N['length'];S++){let T=N[S],U=undefined,V=undefined;if(!O){let W=e['Data']['ShapeAction']['GetAction'](T['object']['id_file'],T['origin_id']);W!==undefined&&W['transform']!==undefined&&(!R['equals'](W['transform'])&&(U=new f['Matrix4']()['copy'](W['transform']),V=new f['Matrix4']()['copy'](W['transform']),V['setPosition'](new f['Vector3']())));}for(let X=T['m_triIdx'];X<T['m_triIdx']+T['m_nTris'];X+=0x3){let Y=g['TriangleItem'](),Z,a0,a1;Z=T['object']['attribs']['a_index']['array'][X],a0=T['object']['attribs']['a_index']['array'][X+0x1],a1=T['object']['attribs']['a_index']['array'][X+0x2];{let a2=new f['Vector3'](T['object']['attribs']['a_position']['array'][Z*0x3+0x0],T['object']['attribs']['a_position']['array'][Z*0x3+0x1],T['object']['attribs']['a_position']['array'][Z*0x3+0x2]),a3=new f['Vector3'](T['object']['attribs']['a_position']['array'][a0*0x3+0x0],T['object']['attribs']['a_position']['array'][a0*0x3+0x1],T['object']['attribs']['a_position']['array'][a0*0x3+0x2]),a4=new f['Vector3'](T['object']['attribs']['a_position']['array'][a1*0x3+0x0],T['object']['attribs']['a_position']['array'][a1*0x3+0x1],T['object']['attribs']['a_position']['array'][a1*0x3+0x2]);U!==undefined&&(a2['applyMatrix4'](U),a3['applyMatrix4'](U),a4['applyMatrix4'](U)),Y['vertex']['v1']['copy'](a2),Y['vertex']['v2']['copy'](a3),Y['vertex']['v3']['copy'](a4),Y['BBox']['min']['copy'](a2),Y['BBox']['min']['min'](a3),Y['BBox']['min']['min'](a4),Y['BBox']['max']['copy'](a2),Y['BBox']['max']['max'](a3),Y['BBox']['max']['max'](a4),Y['BBox']['update']();}if(T['object']['attribs']['a_normal']['array']['length']>0x0){let a5=new f['Vector3'](T['object']['attribs']['a_normal']['array'][Z*0x3+0x0],T['object']['attribs']['a_normal']['array'][Z*0x3+0x1],T['object']['attribs']['a_normal']['array'][Z*0x3+0x2]),a6=new f['Vector3'](T['object']['attribs']['a_normal']['array'][a0*0x3+0x0],T['object']['attribs']['a_normal']['array'][a0*0x3+0x1],T['object']['attribs']['a_normal']['array'][a0*0x3+0x2]),a7=new f['Vector3'](T['object']['attribs']['a_normal']['array'][a1*0x3+0x0],T['object']['attribs']['a_normal']['array'][a1*0x3+0x1],T['object']['attribs']['a_normal']['array'][a1*0x3+0x2]);U!==undefined&&(a5['applyMatrix4'](V),a6['applyMatrix4'](V),a7['applyMatrix4'](V)),Y['normal']['v1']['copy'](a5),Y['normal']['v2']['copy'](a6),Y['normal']['v3']['copy'](a7);}Y['index'][0x0]=Z,Y['index'][0x1]=a0,Y['index'][0x2]=a1,Q[P]=Y,P++;}}return Q;},this['GetSurfaceTriangles_v1']=function(N,O,P){let Q=-0x1;for(let V=0x0;V<O['length'];V++){if(new f['Vector3']()['subVectors'](N['vertex']['v1'],O[V]['vertex']['v1'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v2'],O[V]['vertex']['v2'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v3'],O[V]['vertex']['v3'])['lengthSq']()<0x1){Q=V;break;}}if(Q<0x0)return O;if(P===undefined)P=0.07;let R=[],S=[];R[Q]=!![];let T=!![];while(T){T=![];for(let W=0x0;W<O['length'];W++){if(R[W]===undefined||R[W]===![])continue;if(S[W]!==undefined&&S[W]===!![])continue;S[W]=!![];let X=e['Util']['GetTriangleNormal'](O[W]['vertex']['v1'],O[W]['vertex']['v2'],O[W]['vertex']['v3']);for(let Y=0x0;Y<0x3;Y++){let Z=![],a0=[e['Util']['GetTrianglePos'](O[W],Y),e['Util']['GetTrianglePos'](O[W],(Y+0x1)%0x3)];for(let a1=0x0;a1<O['length'];a1++){if(R[a1]!==undefined&&R[a1]===!![])continue;for(let a2=0x0;a2<0x3;a2++){let a3=[e['Util']['GetTrianglePos'](O[a1],a2),e['Util']['GetTrianglePos'](O[a1],(a2+0x1)%0x3)],a4=new f['Vector3']()['subVectors'](a0[0x0],a3[0x0])['lengthSq'](),a5=new f['Vector3']()['subVectors'](a0[0x1],a3[0x1])['lengthSq'](),a6=new f['Vector3']()['subVectors'](a0[0x0],a3[0x1])['lengthSq'](),a7=new f['Vector3']()['subVectors'](a0[0x1],a3[0x0])['lengthSq']();if(a4<0x1&&a5<0x1||a6<0x1&&a7<0x1){let a8=e['Util']['GetTriangleNormal'](O[a1]['vertex']['v1'],O[a1]['vertex']['v2'],O[a1]['vertex']['v3']);if(Math['abs'](X['dot'](a8))>P){R[a1]=!![],Z=!![],T=!![];break;}}}if(Z)break;}}}}let U=[];for(let a9=0x0;a9<O['length'];a9++){if(R[a9]===undefined||R[a9]===![])continue;let aa=g['TriangleItem']();aa['vertex']['v1']['copy'](O[a9]['vertex']['v1']),aa['vertex']['v2']['copy'](O[a9]['vertex']['v2']),aa['vertex']['v3']['copy'](O[a9]['vertex']['v3']);let ab=e['Util']['GetTriangleNormal'](O[a9]['vertex']['v1'],O[a9]['vertex']['v2'],O[a9]['vertex']['v3']);aa['normal']['v1']['copy'](ab),aa['normal']['v2']['copy'](ab),aa['normal']['v3']['copy'](ab),aa['BBox']['min']['copy'](O[a9]['vertex']['v1']),aa['BBox']['min']['min'](O[a9]['vertex']['v2']),aa['BBox']['min']['min'](O[a9]['vertex']['v3']),aa['BBox']['max']['copy'](O[a9]['vertex']['v1']),aa['BBox']['max']['max'](O[a9]['vertex']['v2']),aa['BBox']['max']['max'](O[a9]['vertex']['v3']),aa['BBox']['update'](),U['push'](aa);}return U;},this['GetSurfaceTriangles']=function(N,O,P){let Q=-0x1;for(let V=0x0;V<O['length'];V++){if(N['index'][0x0]<0x0){if(new f['Vector3']()['subVectors'](N['vertex']['v1'],O[V]['vertex']['v1'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v2'],O[V]['vertex']['v2'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v3'],O[V]['vertex']['v3'])['lengthSq']()<0x1){Q=V;break;}}else{if(N['index'][0x0]===O[V]['index'][0x0]&&N['index'][0x1]===O[V]['index'][0x1]&&N['index'][0x2]===O[V]['index'][0x2]){Q=V;break;}}}if(Q<0x0)return O;if(P===undefined)P=0.07;let R=[],S=[];R[Q]=!![];let T=!![];while(T){T=![];for(let W=0x0;W<O['length'];W++){if(R[W]===undefined||R[W]===![])continue;if(S[W]!==undefined&&S[W]===!![])continue;S[W]=!![];let X=e['Util']['GetTriangleNormal'](O[W]['vertex']['v1'],O[W]['vertex']['v2'],O[W]['vertex']['v3']);for(let Y=0x0;Y<0x3;Y++){let Z=![],a0=[e['Util']['GetTrianglePos'](O[W],Y),e['Util']['GetTrianglePos'](O[W],(Y+0x1)%0x3)];for(let a1=0x0;a1<O['length'];a1++){if(R[a1]!==undefined&&R[a1]===!![])continue;for(let a2=0x0;a2<0x3;a2++){let a3=[e['Util']['GetTrianglePos'](O[a1],a2),e['Util']['GetTrianglePos'](O[a1],(a2+0x1)%0x3)],a4=new f['Vector3']()['subVectors'](a0[0x0],a3[0x0])['lengthSq'](),a5=new f['Vector3']()['subVectors'](a0[0x1],a3[0x1])['lengthSq'](),a6=new f['Vector3']()['subVectors'](a0[0x0],a3[0x1])['lengthSq'](),a7=new f['Vector3']()['subVectors'](a0[0x1],a3[0x0])['lengthSq']();if(a4<0x1&&a5<0x1||a6<0x1&&a7<0x1){let a8=e['Util']['GetTriangleNormal'](O[a1]['vertex']['v1'],O[a1]['vertex']['v2'],O[a1]['vertex']['v3']);if(Math['abs'](X['dot'](a8))>P){R[a1]=!![],Z=!![],T=!![];break;}}}if(Z)break;}}}}let U=[];for(let a9=0x0;a9<O['length'];a9++){if(R[a9]===undefined||R[a9]===![])continue;let aa=g['TriangleItem']();aa['vertex']['v1']['copy'](O[a9]['vertex']['v1']),aa['vertex']['v2']['copy'](O[a9]['vertex']['v2']),aa['vertex']['v3']['copy'](O[a9]['vertex']['v3']);let ab=e['Util']['GetTriangleNormal'](O[a9]['vertex']['v1'],O[a9]['vertex']['v2'],O[a9]['vertex']['v3']);aa['normal']['v1']['copy'](ab),aa['normal']['v2']['copy'](ab),aa['normal']['v3']['copy'](ab),aa['BBox']['min']['copy'](O[a9]['vertex']['v1']),aa['BBox']['min']['min'](O[a9]['vertex']['v2']),aa['BBox']['min']['min'](O[a9]['vertex']['v3']),aa['BBox']['max']['copy'](O[a9]['vertex']['v1']),aa['BBox']['max']['max'](O[a9]['vertex']['v2']),aa['BBox']['max']['max'](O[a9]['vertex']['v3']),aa['BBox']['update'](),U['push'](aa);}return U;},this['GetMinDistanceByTriangles']=function(N,O,P,Q){let R=0x0,S=!![],T,U;for(let V=0x0;V<N['length'];V++){for(let W=0x0;W<O['length'];W++){if(V!==0x0&&W!==0x0){if(N[V]['BBox']['min']['x']-O[W]['BBox']['max']['x']>R)continue;if(N[V]['BBox']['min']['y']-O[W]['BBox']['max']['y']>R)continue;if(N[V]['BBox']['min']['z']-O[W]['BBox']['max']['z']>R)continue;if(O[W]['BBox']['min']['x']-N[V]['BBox']['max']['x']>R)continue;if(O[W]['BBox']['min']['y']-N[V]['BBox']['max']['y']>R)continue;if(O[W]['BBox']['min']['z']-N[V]['BBox']['max']['z']>R)continue;}let X=new f['Vector3'](),Y=new f['Vector3'](),Z=new f['Vector3'](),a0=new f['Vector3'](),a1=e['Util']['Tris2TrisDistance'](N[V],O[W],X,Y),a2=e['Util']['Tris2TrisDistance'](O[W],N[V],Z,a0);if(S)a1<a2?(T=X,U=Y,R=a1):(T=Z,U=a0,R=a2),S=![];else{if(a1<R)T=X,U=Y,R=a1;else a2<R&&(T=Z,U=a0,R=a2);}}}if(!S){if(P!==undefined)P['copy'](T);if(Q!==undefined)Q['copy'](U);}return R;},this['GetMinDistancePosByTriangles']=function(N,O,P){let Q=0x0,R=!![],S;const T=0.000001;for(let U=0x0;U<N['length'];U++){if(U!==0x0){if(N[U]['BBox']['min']['x']-O['x']>Q)continue;if(N[U]['BBox']['min']['y']-O['y']>Q)continue;if(N[U]['BBox']['min']['z']-O['z']>Q)continue;}const V=N[U]['vertex']['v1'],W=N[U]['vertex']['v2'],X=N[U]['vertex']['v3'];let Y=0x0,Z=new f['Vector3'](),a0=new f['Plane']()['setFromCoplanarPoints'](V,W,X);const a1=a0['projectPoint'](O);{const a2=e['Util']['GetPolygonArea'](V,W,X),a3=e['Util']['GetPolygonArea'](V,W,O),a4=e['Util']['GetPolygonArea'](W,X,O),a5=e['Util']['GetPolygonArea'](X,V,O);if(Math['abs'](a2-(a3+a4+a5))<T){Z['copy'](a1),Y=new f['Vector3']()['subVectors'](Z,O)['length']();R?(S=Z,Q=Y,R=![]):Y<[Q]&&(S=Z,Q=Y);continue;}}{Y=e['Util']['Point2LineDistance'](O,V,W,Z),R?(S=Z,Q=Y,R=![]):Y<[Q]&&(S=Z,Q=Y),Y=e['Util']['Point2LineDistance'](O,W,X,Z),R?(S=Z,Q=Y,R=![]):Y<[Q]&&(S=Z,Q=Y),Y=e['Util']['Point2LineDistance'](O,X,V,Z),R?(S=Z,Q=Y,R=![]):Y<[Q]&&(S=Z,Q=Y);}}if(!R){if(P!==undefined)P['copy'](S);}return Q;},this['GetCylinderParamByTriangles']=function(N,O,P){let Q={'result':![],'item':g['CircleItem']()};if(N['normal']['v1']['equals'](N['normal']['v2'])&&N['normal']['v2']['equals'](N['normal']['v3']))return Q;if(N['normal']['v1']['equals'](N['normal']['v2'])===![]&&N['normal']['v2']['equals'](N['normal']['v3'])===![]&&N['normal']['v3']['equals'](N['normal']['v1'])===![])return Q;let R=[N['vertex']['v1'],N['vertex']['v2'],N['vertex']['v3']],S=[];for(let af=0x0;af<0x3;af++)S[af]=[];let T=[![],![],![]];{let ag=-0x1;for(let ah=0x0;ah<O['length'];ah++){if(new f['Vector3']()['subVectors'](N['vertex']['v1'],O[ah]['vertex']['v1'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v2'],O[ah]['vertex']['v2'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v3'],O[ah]['vertex']['v3'])['lengthSq']()<0x1){ag=ah;break;}}if(ag<0x0)return Q;for(let ai=0x0;ai<O['length'];ai++){if(ai===ag)continue;if(T[0x0]&&T[0x1]&&T[0x2])break;let aj=O[ai]['vertex']['v1'],ak=O[ai]['vertex']['v2'],al=O[ai]['vertex']['v3'];if(new f['Vector3']()['subVectors'](N['vertex']['v1'],O[ai]['vertex']['v1'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v2'],O[ai]['vertex']['v2'])['lengthSq']()<0x1&&new f['Vector3']()['subVectors'](N['vertex']['v3'],O[ai]['vertex']['v3'])['lengthSq']()<0x1)continue;for(let am=0x0;am<0x3;am++){if(!T[am]){let an=(am+0x1)%0x3;(R[am]['equals'](aj)||R[am]['equals'](ak)||R[am]['equals'](al))&&((R[an]['equals'](aj)||R[an]['equals'](ak)||R[an]['equals'](al))&&(T[am]=!![],S[am][0x0]=new f['Vector3']()['copy'](aj),S[am][0x1]=new f['Vector3']()['copy'](ak),S[am][0x2]=new f['Vector3']()['copy'](al)));}}}}if(!T[0x0]||!T[0x1]||!T[0x2])return Q;let U=[],V,W=new f['Vector3']()['subVectors'](R[0x1],R[0x0]),X=new f['Vector3']()['subVectors'](R[0x2],R[0x0]);W=W['normalize'](),X=X['normalize'](),V=new f['Vector3']()['crossVectors'](W,X),V=V['normalize']();for(let ao=0x0;ao<0x3;ao++){W=new f['Vector3']()['subVectors'](S[ao][0x1],S[ao][0x0])['normalize'](),X=new f['Vector3']()['subVectors'](S[ao][0x2],S[ao][0x0])['normalize'](),U[ao]=new f['Vector3']()['crossVectors'](W,X)['normalize']();}let Y=Math['acos'](Math['max'](-0x1,Math['min'](0x1,Math['abs'](V['dot'](U[0x0]))))),Z=Math['acos'](Math['max'](-0x1,Math['min'](0x1,Math['abs'](V['dot'](U[0x1]))))),a0=Math['acos'](Math['max'](-0x1,Math['min'](0x1,Math['abs'](V['dot'](U[0x2])))));{let ap=0x0;if(Y>=Z&&Y<=a0||Y>=a0&&Y<=Z)ap=Y;if(Z>=Y&&Z<=a0||Z>=a0&&Z<=Y)ap=Z;if(a0>=Z&&a0<=Y||a0>=Y&&a0<=Z)ap=a0;if(Math['abs'](ap)<0.001)return Q;}let a1,a2,a3,a4,a5,a6,a7=0x0;a4=V;if(Y<Z&&Y<a0){a3=new f['Vector3']()['addVectors'](R[0x0],R[0x1])['multiplyScalar'](0.5);if(Z<a0){a1=new f['Vector3']()['addVectors'](R[0x1],R[0x2])['multiplyScalar'](0.5),a2=new f['Vector3']()['subVectors'](R[0x2],R[0x1]),a2=a2['normalize'](),a7=0x1;let aq=0x0;for(aq=0x0;aq<0x3;aq++){if(!S[a7][aq]['equals'](R[0x1])&&!S[a7][aq]['equals'](R[0x2]))break;}a5=new f['Vector3']()['addVectors'](S[a7][aq],R[0x1])['multiplyScalar'](0.5);}else{a1=new f['Vector3']()['addVectors'](R[0x2],R[0x0])['multiplyScalar'](0.5),a2=new f['Vector3']()['subVectors'](R[0x0],R[0x2]),a2=a2['normalize'](),a7=0x2;let ar=0x0;for(ar=0x0;ar<0x3;ar++){if(!S[a7][ar]['equals'](R[0x2])&&!S[a7][ar]['equals'](R[0x0]))break;}a5=new f['Vector3']()['addVectors'](S[a7][ar],R[0x2])['multiplyScalar'](0.5);}}if(Z<Y&&Z<a0){a3=new f['Vector3']()['addVectors'](R[0x1],R[0x2])['multiplyScalar'](0.5);if(Y<a0){a1=new f['Vector3']()['addVectors'](R[0x0],R[0x1])['multiplyScalar'](0.5),a2=new f['Vector3']()['subVectors'](R[0x1],R[0x0]),a2=a2['normalize'](),a7=0x0;let as=0x0;for(as=0x0;as<0x3;as++){if(!S[a7][as]['equals'](R[0x0])&&!S[a7][as]['equals'](R[0x1]))break;}a5=new f['Vector3']()['addVectors'](S[a7][as],R[0x0])['multiplyScalar'](0.5);}else{a1=new f['Vector3']()['addVectors'](R[0x2],R[0x0])['multiplyScalar'](0.5),a2=new f['Vector3']()['subVectors'](R[0x0],R[0x2]),a2=a2['normalize'](),a7=0x2;let at=0x0;for(at=0x0;at<0x3;at++){if(!S[a7][at]['equals'](R[0x2])&&!S[a7][at]['equals'](R[0x0]))break;}a5=new f['Vector3']()['addVectors'](S[a7][at],R[0x2])['multiplyScalar'](0.5);}}if(a0<Y&&a0<Z){a3=new f['Vector3']()['addVectors'](R[0x2],R[0x0])['multiplyScalar'](0.5);if(Y<Z){a1=new f['Vector3']()['addVectors'](R[0x0],R[0x1])['multiplyScalar'](0.5),a2=new f['Vector3']()['subVectors'](R[0x1],R[0x0]),a2=a2['normalize'](),a7=0x0;let au=0x0;for(au=0x0;au<0x3;au++){if(!S[a7][au]['equals'](R[0x0])&&!S[a7][au]['equals'](R[0x1]))break;}a5=new f['Vector3']()['addVectors'](S[a7][au],R[0x0])['multiplyScalar'](0.5);}else{a1=new f['Vector3']()['addVectors'](R[0x1],R[0x2])['multiplyScalar'](0.5),a2=new f['Vector3']()['subVectors'](R[0x2],R[0x1]),a2=a2['normalize'](),a7=0x2;let av=0x0;for(av=0x0;av<0x3;av++){if(!S[a7][av]['equals'](R[0x1])&&!S[a7][av]['equals'](R[0x2]))break;}a5=new f['Vector3']()['addVectors'](S[a7][av],R[0x1])['multiplyScalar'](0.5);}}a6=U[a7];let a8=new f['Plane']()['setFromNormalAndCoplanarPoint'](a2,a1);a3=a8['projectPoint'](a3),a5=a8['projectPoint'](a5),a1=a8['projectPoint'](a1);if(Math['abs'](a4['dot'](a6))>0.999)return Q;let a9=Math['acos'](a4['dot'](a6));a9/=0x2;let aa=new f['Vector3']()['subVectors'](a5,a3)['length']()/0x2,ab=aa/Math['sin'](a9),ac=new f['Vector3']()['addVectors'](a3,new f['Vector3']()['copy'](a4)['multiplyScalar'](ab)),ad=new f['Vector3']()['subVectors'](ac,a5)['length']();if(Math['abs'](ad-ab)>ab*0.00001)ac=new f['Vector3']()['subVectors'](a3,new f['Vector3']()['copy'](a4)['multiplyScalar'](ab));ad=new f['Vector3']()['subVectors'](ac,a5)['length']();let ae=new f['Vector3']()['subVectors'](ac,a1)['length']();if(P!==undefined){let aw=new f['Vector3']()['subVectors'](P,ac)['dot'](a2),ax=new f['Vector3']()['copy'](a2)['multiplyScalar'](aw);ac['add'](ax);}return Q['result']=!![],Q['item']['radius']=ae,Q['item']['center']=ac,Q['item']['normal']=a2,Q;};async function L(){};e['DemoType']!==-0x1&&e['DemoType']!==0x5&&e['DemoType']!==0x1&&L(),this['GetNodeIDsByCustomColor']=function(N){let O=e['Data']['ModelFileManager']['GetNodeCount'](),P=[];for(let Q=0x0;Q<O;Q++){let R=Q,S=e['Data']['ModelFileManager']['GetFileKeyByNodeIndex'](R);if(S===undefined)continue;let T=e['Data']['ModelFileManager']['GetNodeID'](Q),U=e['Data']['GetOriginNodeID'](S,T),V=e['Data']['ShapeAction']['GetAction'](S,U);if(V===undefined)continue;V['customColor']&&(N!==undefined?V['color']['equals'](N)&&P['push'](T):P['push'](T));}return P;},this['EnableUseSelectionMulti']=function(N,O){if(N!==undefined)for(let P=0x0;P<N['length'];P++){let Q=[],R=new Map(),S=N[P];K(S,Q,R);for(let T=0x0;T<g['Objects']['length'];T++){let U=g['Objects'][T];for(let V=0x0;V<U['tag']['length'];V++){let W=U['tag'][V];if(R!==undefined){if(R['get'](W['bodyId'])!==undefined){let X=e['Data']['ShapeAction']['GetAction'](W['object']['id_file'],W['origin_id']);if(X['useSelection']==O)continue;X['useSelection']=O;}}}}}},this['EncodeCCall']=function(N,O){let P=e['ShdCore'],Q='';const R=P['_malloc'](0x400);if(O===undefined){const S=P['ccall']('GetEncryptString','number',['string','number'],[N,R]);S===0x1?S&&(Q=P['UTF8ToString'](R)):console['log']('Empty\x20Message.');}else{const T=P['ccall']('GetEncStr','number',['string','number','number'],[N,R,O]);T===0x1?T&&(Q=P['UTF8ToString'](R)):console['log']('Empty\x20Message.');}return P['_free'](R),Q;},this['DecodeCCall']=function(N,O){let P=e['ShdCore'],Q='';const R=P['_malloc'](0x400);if(O===undefined){const S=P['ccall']('GetDecryptString','number',['string','number'],[N,R]);S===0x1?S&&(Q=P['UTF8ToString'](R)):console['log']('Empty\x20Message.');}else{const T=P['ccall']('GetDecStr','number',['string','number','number'],[N,R,O]);T===0x1?T&&(Q=P['UTF8ToString'](R)):console['log']('Empty\x20Message.');}return P['_free'](R),Q;};};export default Data;